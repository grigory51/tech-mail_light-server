(function(a){if(!a.ya){a.ya={}}})(this);(Array.prototype.filter||(Array.prototype.filter=function(e){var d=[],c=arguments[1]||this;if(this===null){throw new Error("There is empty context for filter function")}if(typeof e!="function"){throw new Error("You should declare filter function as parameter")}for(var b=0,a=this.length;b<a;b++){var f=t[b];e.call(c,f,b,this)&&d.push(f)}return d}));(function(a,b){if(!a.Collection){a.Collection=function(c){this.storage=[];this.idAttr=c||"id"};a.Collection.prototype={add:function(c){this.storage.push(c);$(this).trigger("append."+c[this.idAttr],[c])},get:function(d){var c=this;return this.storage.filter(function(e){return(e[c.idAttr]===d)})}}}})(ya,this);(function(b,c){var a=/\[%\s([^%]+)\s%\]/g;b.template=function(d,g){g=g||{};try{var f=d.replace(/'/g,"\\'").replace(a,function(i,e){if(g.hasOwnProperty(e)){return"'+(hash.hasOwnProperty(\""+e+'")?hash["'+e+'"]:"'+g[e]+"\")+'"}else{return"'+(hash.hasOwnProperty(\""+e+'")&&typeof(hash["'+e+"\"])!='undefined'?hash[\""+e+"\"]:'')+'"}});return new Function("hash","return '"+f+"'")}catch(h){debug("template make failed:",d,f)}}})(ya,this);ya.pages={};ya.templates={common:{},pages:{}};ya.generators={common:{},pages:{}};ya.hash={common:{},pages:{}};(function(a,b){a.make=function(c,d){if(!c.hasOwnProperty(d)){c[d]={}}return c[d]};a.uid=function(){return String(Math.random()).substr(2,12)};a.htmlFilter=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};a.urlFilter=function(c){return c.replace(/./g,function(d){if(d.match(/[&@\/;:=+?$]/)){return d}else{return encodeURIComponent(d)}})};a.capitalize=function(c){c=c||"";return c[0].toUpperCase()+c.substring(1)};a.Collection=function(c){this.storage=[];this.idAttr=c||"id"};a.Collection.prototype={add:function(c){this.storage.push(c);$(this).trigger("append."+c[this.idAttr],[c])},get:function(d){var c=this;return this.storage.filter(function(e){return(e[c.idAttr]===d)})}};a.log=function(){if(env.debug){if(b.console){b.console.log.apply(this,arguments)}else{if(b.debug){b.debug.apply(this,arguments)}else{if(b.document&&b.document.body){var d="debugWindow",c=document.getElementById(d);if(c){c.innerHTML+="<hr/>msg"}else{document.body.innerHTML+='<div style="width:50%;height: 50px; margin-bottom: 200px; overflow: auto;position: absolute;bottom: 0; z-index: 9999; border:1px solid #ccc;background: #fff; color: #000; padding: 1em 2em;margin:2px;" id="'+d+'">Debug:<hr/>'+arguments[0]+"</div>"}}}}}};a.zCookie=function(){return{insert:function(e,d){var j=d.split(":"),n,k,f=[],m=false,c;if(j.length==3){c=j[0];k=e.split("|");for(var h=0,g=k.length;h<g;h++){if(k[h]){n=k[h].split(":");if(n[0]==c){f.push(d);m=true}else{f.push(k[h])}}}if(!m){f.push(d)}return f.join("|")}return false},get:function(g,d){var f=g.split("|"),h;for(var e=0,c=f.length;e<c;e++){h=f[e].split(":");if(h.length==3&&h[0]=="m-"+d){return{version:h[1],cache:h[2]}}}return false}}}})(ya,this);
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
window.matchMedia=window.matchMedia||(function(e,f){var c,a=e.documentElement,b=a.firstElementChild||a.firstChild,d=e.createElement("body"),g=e.createElement("div");g.id="mq-test-1";g.style.cssText="position:absolute;top:-100em";d.style.background="none";d.appendChild(g);return function(h){g.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';a.insertBefore(d,b);c=g.offsetWidth==42;a.removeChild(d);return{matches:c,media:h}}})(document);
/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */
(function(g){g.respond={};respond.update=function(){};respond.mediaQueriesSupported=g.matchMedia&&g.matchMedia("only all").matches;if(respond.mediaQueriesSupported){return}var B=g.document,x=B.documentElement,l=[],n=[],v=[],s={},k=30,h=B.getElementsByTagName("head")[0]||x,i=B.getElementsByTagName("base")[0],b=h.getElementsByTagName("link"),r=$('style[type="text/css"]'),f=[],c=null,e=function(E,D){var C=new RegExp("\\("+D+":[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)");return(E.match(C)&&parseFloat(RegExp.$1)+(RegExp.$2||""))},a=function(){var H=b,F=H.length,G=0,E,J,K,C,D,L,I;for(;G<F;G++){K=H[G],C=K.href,D=K.media,L=K.rel&&K.rel.toLowerCase()==="stylesheet";if(!!C&&L&&!s[C]){if(K.styleSheet&&K.styleSheet.rawCssText){p(K.styleSheet.rawCssText,C,D);s[C]=true}else{if((!/^([a-zA-Z:]*\/\/)/.test(C)&&!i)||C.replace(RegExp.$1,"").split("/")[0]===g.location.host){f.push({href:C,media:D})}}}}for(G=0,E=r.length;G<E;G++){J=r[G];I=J.innerHTML||J.innerText||J.textContent;if(I){p(I)}}z()},z=function(){if(f.length){var C=f.shift();q(C.href,function(D){p(D,C.href,C.media);s[C.href]=true;z()})}},p=function(N,C,E){C=C||"";E=E||"";var L=N.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),O=L&&L.length||0,C=C.substring(0,C.lastIndexOf("/")),D=function(P){return P.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+C+"$2$3")},F=!O&&E,I=0,H,J,K,G,M;if(C.length){C+="/"}if(F){O=1}for(;I<O;I++){H=0;if(F){J=E;n.push(D(N))}else{J=L[I].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;n.push(RegExp.$2&&D(RegExp.$2))}G=J.split(",");M=G.length;for(;H<M;H++){K=G[H];l.push({media:K.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:n.length-1,hasquery:K.indexOf("(")>-1,minw:e(K,"min-width"),maxw:e(K,"max-width"),minh:e(K,"min-height"),maxh:e(K,"max-height")})}}c&&window.clearTimeout(c);c=window.setTimeout(function(){m();$("body").addClass("b-page_mquery")},50)},o,w,A=function(){var E,F=B.createElement("div"),C=B.body,D=false;F.style.cssText="position:absolute;font-size:1em;width:1em";if(!C){C=D=B.createElement("body");C.style.background="none"}C.appendChild(F);x.insertBefore(C,x.firstChild);E=F.offsetWidth;if(D){x.removeChild(C)}else{C.removeChild(F)}E=u=parseFloat(E);return E},j=function(C){return parseFloat(C)*(C.indexOf("em")>-1?(u||A()):1)},u,m=function(T){var E="offsetWidth",L="offsetHeight",Y=x[E],H=x[L],C=B.compatMode==="CSS1Compat"&&Y||B.body[E]||Y,I=B.compatMode==="CSS1Compat"&&H||B.body[L]||H,W={},X=b[b.length-1],D=(new Date()).getTime(),S=0,R=0;if(T&&o&&D-o<k){clearTimeout(w);w=setTimeout(m,k);return}else{o=D}for(S=0,R=l.length;S<R;S++){var U=l[S],G=U.minw,F=U.maxw,N=U.minh,M=U.maxh,O=G===null,V=F===null,J=N===null,P=M===null;if(!O){G=j(G)}if(!V){F=j(F)}if(!J){N=j(N)}if(!P){M=j(M)}if(!U.hasquery||(!O||!V)&&(O||C>=G)&&(V||C<=F)||(!J||!P)&&(J||I>=N)&&(P||I<=M)){if(!W[U.media]){W[U.media]=[]}W[U.media].push(n[U.rules])}}for(S=0,R=v.length;S<R;S++){if(v[S]&&v[S].parentNode===h){h.removeChild(v[S])}}for(var S in W){if(W.hasOwnProperty(S)){var Q=B.createElement("style"),K=W[S].join("\n");Q.type="text/css";Q.media=S;h.insertBefore(Q,X.nextSibling);if(Q.styleSheet){Q.styleSheet.cssText=K}else{Q.appendChild(B.createTextNode(K))}v.push(Q)}}},q=function(C,E){var D=d();if(!D){return}D.open("GET",C,true);D.onreadystatechange=function(){if(D.readyState!=4||D.status!=200&&D.status!=304){return}E(D.responseText)};if(D.readyState==4){return}D.send(null)},d=(function(){var C=false;try{C=new XMLHttpRequest()}catch(D){C=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return C}})();a();respond.update=a;function y(){m(true)}if(g.addEventListener){g.addEventListener("resize",y,false)}else{if(g.attachEvent){g.attachEvent("onresize",y)}}})(this);var env={};(function(a){a.devInstance=false;a.useTests=false;a.useCache=true;a.lsExternalStyles=0;a.lsExternalScripts=0;a.lsClientScrips=0;a.serverSide=1;a.staticVersion="1.274";a.configs={adaptiveRules:{w1:function(b){return{styles:[b.getStaticURL("/static/css/_desktop.w1.css")]}},w2:function(b){return{styles:[b.getStaticURL("/static/css/_desktop.w2.css")],stylesIE:[b.getStaticURL("/static/css/_desktop.w2.ie.css")]}},w3:function(b){return{styles:[b.getStaticURL("/static/css/_desktop.w3.css")],stylesIE:[b.getStaticURL("/static/css/_desktop.w3.ie.css")]}},h1:function(b){return{styles:[b.getStaticURL("/static/css/_desktop.h1.css")]}}}}})(env);(function(e){var b=(function(){_}).toString().indexOf("_")>-1,a=e.browser.msie,c=a?["toString","valueOf"]:null,f=function(){};function d(h,g,i){var k=false;if(a){var j=[];e.each(c,function(){i.hasOwnProperty(this)&&(k=true)&&j.push({name:this,val:i[this]})});if(k){e.each(i,function(l){j.push({name:l,val:this})});i=j}}e.each(i,function(m,n){if(k){m=n.name;n=n.val}if(e.isFunction(n)&&(!b||n.toString().indexOf(".__base")>-1)){var l=h[m]||function(){};g[m]=function(){var p=this.__base;this.__base=l;var o=n.apply(this,arguments);this.__base=p;return o}}else{g[m]=n}})}e.inherit=function(){var l=arguments,n=e.isFunction(l[0]),h=n?l[0]:f,m=l[n?1:0]||{},j=l[n?2:1],o=m.__constructor||(n&&h.prototype.__constructor)?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!n){o.prototype=m;o.prototype.__self=o.prototype.constructor=o;return e.extend(o,j)}e.extend(o,h);var i=function(){},k=i.prototype=h.prototype,g=o.prototype=new i();g.__self=g.constructor=o;d(k,g,m);j&&d(h,o,j);return o};e.inheritSelf=function(j,h,i){var g=j.prototype;d(g,g,h);i&&d(j,j,i);return j}})(jQuery);(function(c){var a=0,d="__"+(+new Date),b=function(){return"uniq"+ ++a};c.identify=function(g,f){if(!g){return b()}var e="uniqueID" in g?"uniqueID":d;return f||e in g?g[e]:g[e]=b()}})(jQuery);(function(a){a.isEmptyObject||(a.isEmptyObject=function(c){for(var b in c){return false}return true})})(jQuery);(function(a){a.extend({debounce:function(c,d,e,b){if(arguments.length==3&&typeof e!="boolean"){b=e;e=false}var f;return function(){var g=arguments;b=b||this;e&&!f&&c.apply(b,g);clearTimeout(f);f=setTimeout(function(){e||c.apply(b,g);f=null},d)}},throttle:function(e,f,b){var g,d,c;return function(){d=arguments;c=true;b=b||this;g||(function(){if(c){e.apply(b,d);c=false;g=setTimeout(arguments.callee,f)}else{g=null}})()}}})})(jQuery);(function(d){var a="__"+ +new Date+"storage",c=function(f,e){return d.identify(f)+(e?d.identify(e):"")},b={buildEventName:function(f){return f},on:function(o,j,p,s,m){if(typeof o=="string"){if(d.isFunction(j)){s=p;p=j;j=undefined}var f=c(p,s),l=this[a]||(this[a]={}),g=o.split(" "),h=0,q;while(o=g[h++]){o=this.buildEventName(o);q=l[o]||(l[o]={ids:{},list:{}});if(!(f in q.ids)){var n=q.list,r={fn:p,data:j,ctx:s,special:m};if(n.last){n.last.next=r;r.prev=n.last}else{n.first=r}q.ids[f]=n.last=r}}}else{var k=this;d.each(o,function(u,i){k.on(u,i,j,m)})}return this},onFirst:function(i,h,g,f){return this.on(i,h,g,f,{one:true})},un:function(p,q,u){if(typeof p=="string"||typeof p=="undefined"){var n=this[a];if(n){if(p){var h=p.split(" "),k=0,r;while(p=h[k++]){p=this.buildEventName(p);if(r=n[p]){if(q){var g=c(q,u),f=r.ids;if(g in f){var o=r.list,s=f[g],j=s.prev,l=s.next;if(j){j.next=l}else{if(s===o.first){o.first=l}}if(l){l.prev=j}else{if(s===o.last){o.last=j}}delete f[g]}}else{delete this[a][p]}}}}else{delete this[a]}}}else{var m=this;d.each(p,function(v,i){m.un(v,i,u)})}return this},trigger:function(j,h){var l=this,k=l[a],i;typeof j==="string"?j=d.Event(l.buildEventName(i=j)):j.type=l.buildEventName(i=j.type);j.target||(j.target=l);if(k&&(k=k[j.type])){var g=k.list.first,f;while(g){j.data=g.data;f=g.fn.call(g.ctx||l,j,h);if(typeof f!=="undefined"){j.result=f;if(f===false){j.preventDefault();j.stopPropagation()}}g.special&&g.special.one&&l.un(i,g.fn,g.ctx);g=g.next}}return this}};d.observable=d.inherit(b,b)})(jQuery);(function(f,h){var e=[],g={},a={};function d(k,j,i){return(k?"__elem_"+k:"")+"__mod"+(j?"_"+j:"")+(i?"_"+i:"")}function c(j,i,k){f.isFunction(j)?(i[d(k,"*","*")]=j):f.each(j,function(m,l){f.isFunction(l)?(i[d(k,m,"*")]=l):f.each(l,function(n,o){i[d(k,m,n)]=o})})}function b(j,i){return i?Array.isArray(i)?function(m){var l=0,k=i.length;while(l<k){if(m.hasMod(j,i[l++])){return true}}return false}:function(k){return k.hasMod(j,i)}:function(k){return k.hasMod(j)}}this.BEM=f.inherit(f.observable,{__constructor:function(j,k,i){var l=this;l._modCache=j||{};l._processingMods={};l.params=f.extend(l.getDefaultParams(),k);i!==false?l._init():l.afterCurrentEvent(l._init)},_init:function(){return this.setMod("js","inited").trigger("init")},changeThis:function(j,i){return j.bind(i||this)},afterCurrentEvent:function(j,i){this.__self.afterCurrentEvent(this.changeThis(j,i))},trigger:function(j,i){this.__base(j=this.buildEvent(j),i).__self.trigger(j,i);return this},buildEvent:function(i){typeof i=="string"&&(i=f.Event(i));i.block=this;return i},hasMod:function(l,m,j){var i=arguments.length,n=false;if(i==1){j="";m=l;l=h;n=true}else{if(i==2){if(typeof l=="string"){j=m;m=l;l=h}else{j="";n=true}}}var k=this.getMod(l,m)===j;return n?!k:k},getMod:function(k,l){var i=typeof k;if(i==="string"||i==="undefined"){l=k||l;var j=this._modCache;return l in j?j[l]:j[l]=this._extractModVal(l)}return this._getElemMod(l,k)},_getElemMod:function(k,i,j){return this._extractModVal(k,i,j)},getMods:function(l){var j=l&&typeof l!="string",m=this,i=[].slice.call(arguments,j?1:0),k=m._extractMods(i,j?l:h);if(!j){i.length?i.forEach(function(n){m._modCache[n]=k[n]}):m._modCache=k}return k},setMod:function(k,p,q){if(typeof q=="undefined"){q=p;p=k;k=h}var l=this;if(!k||k[0]){var m=(k&&k[0]?f.identify(k[0]):"")+"_"+p;if(this._processingMods[m]){return l}var j,n=k?l._getElemMod(p,k,j=l.__self._extractElemNameFrom(k)):l.getMod(p);if(n===q){return l}this._processingMods[m]=true;var i=true,o=[p,q,n];k&&o.unshift(k);[["*","*"],[p,"*"],[p,q]].forEach(function(r){i=l._callModFn(j,r[0],r[1],o)!==false&&i});!k&&i&&(l._modCache[p]=q);i&&l._afterSetMod(p,q,n,k,j);delete this._processingMods[m]}return l},_afterSetMod:function(l,i,m,j,k){},toggleMod:function(k,l,j,n,m){if(typeof k=="string"){m=n;n=j;j=l;l=k;k=h}if(typeof n=="undefined"){n=""}else{if(typeof n=="boolean"){m=n;n=""}}var i=this.getMod(k,l);(i==j||i==n)&&this.setMod(k,l,typeof m==="boolean"?(m?j:n):this.hasMod(k,l,j)?n:j);return this},delMod:function(i,j){if(!j){j=i;i=h}return this.setMod(i,j,"")},_callModFn:function(l,k,i,j){var m=d(l,k,i);return this[m]?this[m].apply(this,j):h},_extractModVal:function(j,i){return""},_extractMods:function(i,j){return{}},channel:function(j,i){return this.__self.channel(j,i)},getDefaultParams:function(){return{}},del:function(j){var i=[].slice.call(arguments);typeof j=="string"&&i.unshift(this);this.__self.del.apply(this.__self,i);return this},destruct:function(){}},{_name:"i-bem",blocks:g,decl:function(j,k,m){if(typeof j=="string"){j={block:j}}else{if(j.name){j.block=j.name}}if(j.baseBlock&&!g[j.baseBlock]){throw ('baseBlock "'+j.baseBlock+'" for "'+j.block+'" is undefined')}k||(k={});if(k.onSetMod){c(k.onSetMod,k);delete k.onSetMod}if(k.onElemSetMod){f.each(k.onElemSetMod,function(p,o){c(o,k,p)});delete k.onElemSetMod}var l=g[j.baseBlock||j.block]||this;if(j.modName){var i=b(j.modName,j.modVal);f.each(k,function(o,p){f.isFunction(p)&&(k[o]=function(){var r;if(i(this)){r=p}else{var q=l.prototype[o];q&&q!==k[o]&&(r=this.__base)}return r?r.apply(this,arguments):h})})}var n;j.block==l._name?(n=f.inheritSelf(l,k,m))._processLive(true):(n=g[j.block]=f.inherit(l,k,m))._name=j.block;return n},_processLive:function(i){return false},create:function(j,i){typeof j=="string"&&(j={block:j});return new g[j.block](j.mods,i)},getName:function(){return this._name},_extractElemNameFrom:function(i){},afterCurrentEvent:function(j,i){e.push({fn:j,ctx:i})==1&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var j=e.length;if(j){var i,k=e.splice(0,j);while(i=k.shift()){i.fn.call(i.ctx||this)}}},changeThis:function(j,i){return j.bind(i||this)},del:function(m){var l=typeof m=="string",k=l?0:1,j=arguments.length;l&&(m=this);while(k<j){delete m[arguments[k++]]}return this},channel:function(j,i){if(typeof j=="boolean"){i=j;j=h}j||(j="default");if(i){if(a[j]){a[j].un();delete a[j]}return}return a[j]||(a[j]=new f.observable())}})})(jQuery);(function(){Object.keys||(Object.keys=function(c){var b=[];for(var a in c){c.hasOwnProperty(a)&&b.push(a)}return b})})();(function(){var a=Array.prototype,d=Object.prototype.toString,b={indexOf:function(h,g){g=+(g||0);var f=this,e=f.length;if(e>0&&g<e){g=g<0?Math.ceil(g):Math.floor(g);g<-e&&(g=0);g<0&&(g=g+e);while(g<e){if(g in f&&f[g]===h){return g}++g}}return -1},forEach:function(j,f){var h=-1,g=this,e=g.length;while(++h<e){h in g&&(f?j.call(f,g[h],h,g):j(g[h],h,g))}},map:function(k,f){var j=-1,h=this,e=h.length,g=new Array(e);while(++j<e){j in h&&(g[j]=f?k.call(f,h[j],j,h):k(h[j],j,h))}return g},filter:function(k,f){var j=-1,h=this,e=h.length,g=[];while(++j<e){j in h&&(f?k.call(f,h[j],j,h):k(h[j],j,h))&&g.push(h[j])}return g},reduce:function(k,j){var h=-1,g=this,e=g.length,f;if(arguments.length<2){while(++h<e){if(h in g){f=g[h];break}}}else{f=j}while(++h<e){h in g&&(f=k(f,g[h],h,g))}return f}};for(var c in b){a[c]||(a[c]=b[c])}Array.isArray||(Array.isArray=function(e){return d.call(e)==="[object Array]"})})();(function(){var a=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(b){var d=this,c=a.call(arguments,1);return function(){return d.apply(b,c.concat(a.call(arguments)))}})})();(function(i,b,a){var g="_",c="__",d="[a-zA-Z0-9-]+";function e(l,j,k){k.push(g,l,g,j)}function f(l,m,j,k){k.push(l);j&&e(m,j,k)}function h(n,l,m,j,k){f(n,a,a,k);k.push(c,l);j&&e(m,j,k)}i.INTERNAL={NAME_PATTERN:d,MOD_DELIM:g,ELEM_DELIM:c,buildModPostfix:function(m,j,k){var l=k||[];e(m,j,l);return k?l:l.join("")},buildClass:function(p,n,o,j,k){var m=typeof o;if(m=="string"){if(typeof j!="string"){k=j;j=o;o=n;n=a}}else{if(m!="undefined"){k=o;o=a}else{if(n&&typeof n!="string"){k=n;n=a}}}if(!(n||o||k)){return p}var l=k||[];n?h(p,n,o,j,l):f(p,o,j,l);return k?l:l.join("")},buildClasses:function(n,m,l,j){if(m&&typeof m!="string"){j=l;l=m;m=a}var k=j||[];m?h(n,m,a,a,k):f(n,a,a,k);l&&b.each(l,function(p,o){if(o){k.push(" ");m?h(n,m,p,o,k):f(n,p,o,k)}});return j?k:k.join("")}}})(BEM,jQuery);(function(b){if(!b){b=window.Lego={}}!b.params&&(b.params={});function a(c){return c.replace(/^(?:https?:)?\/\//,"")}b.c=function(d,c,j){var i=a((j&&j.host)||b.params["click-host"]||"clck.yandex.ru"),e=function(l,n,m,k){n=n.replace("'","%27");return n.indexOf("/dtype=")>-1?n:location.protocol+"//"+i+"/"+m+"/dtype="+l+"/rnd="+((new Date()).getTime()+Math.round(Math.random()*100))+(k?"/*"+(n.match(/^http/)?n:location.protocol+"//"+location.host+(n.match("^/")?n:"/"+n)):"/*data="+encodeURIComponent("url="+encodeURIComponent((n.match(/^http/)?n:location.protocol+"//"+location.host+(n.match("^/")?n:"/"+n)))))},g=function(){var k=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];var h=document.createElement("script");h.setAttribute("src",e(d,location.href,"jclck"));k.insertBefore(h,k.firstChild)};if(c){if(c.className.match(/b-link_pseudo_yes/)||(c.href&&c.href.match(/^mailto:/))||(j&&j.noRedirect===true)){g()}else{if(c.href){var f=c.href;c.href=e(d,f,"redir");setTimeout(function(){c.href=f},500)}else{if(c.form){if(c.type.match(/submit|button|image/)){var f=c.form.action;c.form.action=e(d,f,"redir",true);setTimeout(function(){c.form.action=f},500)}else{g()}}else{if(c.action){c.action=e(d,c.action,"redir",true)}else{throw"counter.js: not link and not form!"}}}}}else{g()}}})(window.Lego);(function(a){if(!a){a=window.Lego={}}a.cp=function(f,c,e,b,d){a.c("stred/pid="+f+"/cid="+c+(e?"/path="+e:""),b,d)}})(window.Lego);(function(a){if(!a){a=window.Lego={}}!a.params&&(a.params={});a.ch=function(c,b){if(a.params["show-counters"]){a.cp(0,2219,c,b)}}})(window.Lego);function cp(g,c,d){var b="clck/lid="+g;if(typeof msid!="undefined"){b+="/sid="+msid}try{Lego.c(b,c,d)}catch(f){}}function cpt(c,b){c+=(document.getElementById("form").text.value?".full":".empty")+"/u="+new Date().getTime();cp(c,b)}function c0(a){try{Lego.c(a)}catch(b){}}function csh(d,b){try{cp(d,b)}catch(c){}}function csh_ifmsid(c,b){if(typeof msid!="undefined"){csh(c,b)}}csh_ifgsid=csh_ifmsid;(function(a){if(!a){a=window.Lego={}}a.getCookie=function(h){var g=document.cookie;if(g.length<1){return false}var d=g.indexOf(h+"=");if(d==-1){return false}d+=(h.length+1);var f=g.indexOf(";",d);return decodeURIComponent((f==-1)?g.substring(d):g.substring(d,f))}})(window.Lego);(function(a){if(!a){a=window.Lego={}}a.isSessionValid=function(){return !!a.getCookie("yandex_login")}})(window.Lego);(function(b,a){if(!a){a=window.Lego={}}a.init||(a.init=function(c){(c=a.params=b.extend({id:"",login:a.isSessionValid()?a.getCookie("yandex_login")||"":"",yandexuid:a.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"//pass.yandex.ru","passport-msg":c.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},c,a.params))["show-counters"]=Math.round(Math.random()*100)<=c["show-counters-percent"];b(function(){c.oframebust&&a.oframebust(c.oframebust)});return c});a.block||(a.block={});a.blockInit||(a.blockInit=function(c,d){c=c||document;d=d||".g-js";b(c).find(d).each(function(){var h=b(this),g=this.onclick?this.onclick():{},e=g.name||"",f=a.block[e];if(f&&!h.data(e)){f.call(h,g);h.data(e,true).addClass(e+"_js_inited")}})});a.blockInitBinded||(a.blockInitBinded=!!b(document).ready(function(){a.blockInit()}))})(jQuery,window.Lego);(function(a,d){if(typeof JSON!="undefined"){return a.stringify=JSON.stringify}var c=Object.prototype.toString,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.stringify=function(l){if(l===null){return"null"}if(typeof l==="undefined"){return d}switch(c.call(l)){case"[object String]":return'"'+(e.test(l)?l.replace(e,function(i){var m=b[i];return typeof m==="string"?m:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)}):l)+'"';case"[object Number]":case"[object Boolean]":return""+l;case"[object Array]":var k="[",j=0,f=l.length,h;while(j<f){h=a.stringify(l[j]);k+=(j++?",":"")+(typeof h=="undefined"?"null":h)}return k+"]";case"[object Object]":var k="{",j=0,h;for(var g in l){if(l.hasOwnProperty(g)){h=a.stringify(l[g]);typeof h!="undefined"&&(k+=(j++?",":"")+'"'+g+'":'+h)}}return k+"}";default:return d}}})(jQuery);if(!window.JSON){window.JSON={stringify:$.stringify}}(function(o,g,e){var k=o.INTERNAL,j=k.ELEM_DELIM,l={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},f=k.buildClass,m=k.buildClasses,n={};function i(p,q,r){(p[q]||(p[q]=[])).unshift(r)}function d(p,q){return q.modName?function(r){(r._curBlock.mods||{})[q.modName]===q.modVal&&p(r)}:p}function c(q,p){var s=g.isArray(p),r;g.isArray(q)?s?r=q.concat(p):(r=q).push(p):s?(r=p).unshift(q):r=[q,p];return r}var b={"'":"\\'",'"':"'","&":"&amp;","<":"&lt;",">":"&gt;"},a=/['"&<>]/g;function h(p){return p.replace(a,function(q){return b[q]})}o.HTML={decl:function(r,q){typeof r=="string"&&(r={block:r});r.name&&(r.block=r.name);var p=n[r.block]||(n[r.block]={});q.onBlock&&i(p,"_block",d(q.onBlock,r));if(q.onElem){g.isFunction(q.onElem)?i(p,"_elem",d(q.onElem,r)):g.each(q.onElem,function(u,s){i(p,"_elem"+(u==="*"?"":j+u),d(s,r))})}},build:function(q){var p=new this.Ctx(q);p._buildAll();return p._flush()},Ctx:g.inherit({__constructor:function(p){this._buffer=[];this._params=p;this._tParams=null;this._tParamsChanges=null;this._curBlock=e},pos:function(){return this._params._pos},isFirst:function(){return this._params._pos===1},isLast:function(){var p=this._params;return p._pos===p._siblingsCount},params:function(p){var q=this;if(typeof p=="undefined"){return q._params}q._params=p;return q},param:function(p,s,q,v){var u=this,r=u._params;if(typeof s=="undefined"){return r[p]}if(q||!(p in r)){r[p]=s}else{if(v){r[p]=g.extend(s,r[p])}}return u},attrs:function(q,p){return this.param("attrs",q,p,true)},attr:function(q,s,r){var u=this;if(typeof s=="undefined"){return(u._params.attrs||{})[q]}var p=u._params.attrs;p?(r||!(q in p))&&(p[q]=s):(u._params.attrs={})[q]=s;return u},tag:function(q,p){return this.param("tag",q,p)},cls:function(q,p){return this.param("cls",q,p)},mods:function(q,p){return this.param("mods",q,p,true)},mod:function(p,s,r){var u=this;if(typeof s=="undefined"){return(u._params.mods||{})[p]}var q=u._params.mods;q?(r||!(p in q))&&(q[p]=s):(u._params.mods={})[p]=s;return u},mix:function(r,p){var s=this,q=s._params;if(typeof r=="undefined"){return q.mix}if(p||!("mix" in q)){q.mix=r}else{q.mix=q.mix.concat(r)}return s},js:function(p){return this.param("js",p)},content:function(q,p){return this.param("content",q,p)},wrapContent:function(p){var r=this,q=r._params;p.content=q.content;q.content=p;return r},beforeContent:function(p){var r=this,q=r._params;q.content=c(p,q.content);return r},afterContent:function(p){var r=this,q=r._params;q.content=c(q.content,p);return r},wrap:function(p){var r=this,q=r._params;p.block||(p._curBlock=r._curBlock);p.content=q._wrapper?q._wrapper:q;q._wrapper=p;return r},tParam:function(p,s){var u=this,r=u._tParams||(u._tParams={});if(typeof s=="undefined"){return r[p]}var q=u._tParamsChanges||(u._tParamsChanges={});p in q||(q[p]=r[p]);r[p]=s;return u},generateId:function(){return g.identify()},stop:function(){this._params._isStopped=true},_buildAll:function(){var x=this,q=x._buffer,w=x._params,u=typeof w;if(u=="string"||u=="number"){q.push(w)}else{if(g.isArray(w)){var s=0,p=w.length,r,v;while(s<p){x._params=r=w[s++];v=typeof r;if(v=="string"||v=="number"){q.push(r)}else{if(r){r._pos=s;r._siblingsCount=p;x._buildByDecl()}}}}else{if(w){x._params._pos=x._params._siblingsCount=1;x._buildByDecl()}}}},_build:function(){var x=this,r=x._buffer,v=x._params,p=v.tag||"div",u,s=v.block||v.elem,w=s&&(v.block||x._curBlock.block),q=false;if(v.js){(u={})[f(w,v.elem)]=v.js===true?{}:v.js;q=!v.elem}r.push("<",p);if(s||v.cls){r.push(' class="');if(s){m(w,v.elem,v.mods,r);v.mix&&g.each(v.mix,function(y,z){if(z){r.push(" ");m(z.block,z.elem,z.mods,r);if(z.js){(u||(u={}))[f(z.block,z.elem)]=z.js===true?{}:z.js;q||(q=!z.elem)}}})}v.cls&&r.push(s?" ":"",v.cls);q&&r.push(" i-bem");r.push('"')}u&&r.push(' onclick="return ',h(g.stringify(u)),'"');v.attrs&&g.each(v.attrs,function(y,z){typeof z!="undefined"&&z!==null&&z!==false&&r.push(" ",y,'="',z.toString().replace(/"/g,"&quot;"),'"')});if(l[p]){r.push("/>")}else{r.push(">");if(typeof v.content!="undefined"){x._params=v.content;x._buildAll()}r.push("</",p,">")}},_flush:function(){var p=this._buffer.join("");delete this._buffer;return p},_buildByDecl:function(){var s=this,w=s._curBlock,p=s._params;p._curBlock&&(s._curBlock=p._curBlock);p.block&&(s._curBlock=p);if(!p._wrapper){if(p.block||p.elem){var v=n[s._curBlock.block];if(v){var x;if(p.elem){x=v["_elem"+j+p.elem];v._elem&&(x=(x?x.concat(v._elem):v._elem))}else{x=v._block}if(x){var q=0,u;while(u=x[q++]){u(s);if(p._isStopped){break}}}}}if(p._wrapper){p._curBlock=s._curBlock;s._params=p._wrapper;return s._buildAll()}}var y=s._tParamsChanges;s._tParamsChanges=null;s._build();s._curBlock=w;if(y){var r=s._tParams;g.each(y,function(z,A){typeof A=="undefined"?delete r[z]:r[z]=A})}}})}})(BEM,jQuery);(function(f,b,g,a){b=f.documentElement;g="className";a="replace";b[g]=b[g][a]("i-ua_js_no","i-ua_js_yes");if(f.compatMode!="CSS1Compat"){b[g]=b[g][a]("i-ua_css_standart","i-ua_css_quirks")}})(document);(function(a){if(!a){a=window.Lego={}}a.messages=a.messages||{};a.message=function(c,b){return a.params.locale=="ru"?b:(a.messages[c]||b)}})(window.Lego);(function(i,e,h){var d=e(window),y=e(document),m={},w={},A={},f={},p={},v=i.blocks,b=i.INTERNAL,k=b.NAME_PATTERN,o=b.MOD_DELIM,j=b.ELEM_DELIM,z=b.buildModPostfix,s=b.buildClass;function q(D,B){var C=D[0];e.each(r(C),function(E,G){c(G,C,E,B);var F=w[G.uniqId];if(F){if(F.domElem.index(C)<0){F.domElem=F.domElem.add(D);e.extend(F.params,G)}}else{a(E,D,G)}})}function a(I,E,D,B,J){if(typeof D=="boolean"){J=B;B=D;D=h}var F=E[0];D=c(D||r(F)[I],F,I);var H=D.uniqId;if(w[H]){return w[H]._init()}m[H]=m[H]?m[H].add(E):E;var G=v[I]||u.decl(I,{},{live:true});if(!(G._liveInitable=!!G._processLive())||B||D.live===false){var C=new G(m[H],D,!!B);delete m[H];J&&J.apply(C,Array.prototype.slice.call(arguments,4));return C}}function c(G,D,C,B){(G||(G={})).uniqId||(G.uniqId=(G.id?C+"-id-"+G.id:e.identify())+(B||e.identify()));var F=e.identify(D),E=A[F]||(A[F]={});E[C]||(E[C]=G);return G}function x(C,B,E){var D=C.find(B);return E?D:D.add(C.filter(B))}function r(B){var C=e.identify(B);return A[C]||(A[C]=g(B))}function g(D){var C=D.onclick||D.ondblclick;if(!C&&D.tagName.toLowerCase()=="body"){var E=e(D),B=E.attr("onclick")||E.attr("ondblclick");B&&(C=Function(B))}return C?C():{}}function l(B){delete A[e.identify(B)]}function n(){return y[0][e.support.boxModel?"documentElement":"body"]}e.fn.bem=function(B,C){return a(B,this,C,true)};var u=i.DOM=i.decl("i-bem__dom",{__constructor:function(C,D,B){var E=this;E.domElem=C;E._eventNameCache={};E._elemCache={};w[E._uniqId=D.uniqId||e.identify(E)]=E;E._needSpecialUnbind=false;E.__base(null,D,B)},findBlocksInside:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("find",B,C))},findBlockInside:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("find",B,C,true))},findBlocksOutside:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("parents",B,C))},findBlockOutside:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("closest",B,C))[0]||null},findBlocksOn:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("",B,C))},findBlockOn:function(B,C){return this._doBlocksMethod(this._buildFindBlocksParams("",B,C,true))},_buildFindBlocksParams:function(B,C,E,D){return{select:B,elem:E?C:h,block:E||C,onlyFirst:D}},doBlocksMethodInside:function(C,D,E,B){return this._doBlocksMethod(this._buildDoBlocksMethodParams("find",C,D,E,B))},doBlocksMethodOutside:function(C,D,E,B){return this._doBlocksMethod(this._buildDoBlocksMethodParams("closest",C,D,E,B))},doBlocksMethodOn:function(C,D,E,B){return this._doBlocksMethod(this._buildDoBlocksMethodParams("",C,D,E,B))},doBlocksMethod:function(C,D,B){return this._doBlocksMethod({blocks:C,method:D,args:B})},_buildDoBlocksMethodParams:function(B,E,F,G,D){var C=typeof G=="string";return{select:B,elem:C?E:h,block:C?F:E,method:C?G:F,args:C?D:G}},_doBlocksMethod:function(D){var G=this;if(D.blocks){return e.map(D.blocks,function(L){return G._doBlockMethod(L,D.method,D.args)})}var F=D.elem?(typeof D.elem=="string"?this.findElem(D.elem):D.elem):this.domElem,E=typeof D.block=="string",B=D.block,K=E?B:(B.block||B.blockName),C="."+(E?s(K):s(K,B.modName,B.modVal))+(D.onlyFirst?":first":""),H=F.filter(C);D.select&&(H=H.add(F[D.select](C)));if(D.onlyFirst){return H[0]?this._doBlockMethod(a(K,H.eq(0),true),D.method,D.args):null}if(D.method){return e.map(H,function(L){return G._doBlockMethod(a(K,e(L),true),D.method,D.args)})}var J=[],I={};e.each(H,function(L,M){var N=a(K,e(M),true);if(!I[N._uniqId]){I[N._uniqId]=true;J.push(N)}});return J},_doBlockMethod:function(C,D,B){return D?C[D].apply(C,B||[]):C},bindToDomElem:function(C,D,B){var E=this;B?C.bind(E._buildEventName(D),function(F){(F.data||(F.data={})).domElem=e(this);return B.apply(E,arguments)}):e.each(D,function(G,F){E.bindToDomElem(C,G,F)});return E},bindToDoc:function(C,B){this._needSpecialUnbind=true;return this.bindToDomElem(y,C,B)},bindToWin:function(C,B){this._needSpecialUnbind=true;return this.bindToDomElem(d,C,B)},bindTo:function(D,C,B){if(!C||e.isFunction(C)){B=C;C=D;D=this.domElem}else{if(typeof D=="string"){D=this.elem(D)}}return this.bindToDomElem(D,C,B)},unbindFromDomElem:function(B,C){B.unbind(this._buildEventName(C));return this},unbindFromDoc:function(B){return this.unbindFromDomElem(y,B)},unbindFromWin:function(B){return this.unbindFromDomElem(d,B)},unbindFrom:function(C,B){if(!B){B=C;C=this.domElem}else{if(typeof C=="string"){C=this.elem(C)}}return this.unbindFromDomElem(C,B)},_buildEventName:function(B){var C=this;return B.indexOf(" ")>1?B.split(" ").map(function(D){return C._buildOneEventName(D)}).join(" "):C._buildOneEventName(B)},_buildOneEventName:function(D){var F=this,B=F._eventNameCache;if(D in B){return B[D]}var E="."+F._uniqId;if(D.indexOf(".")<0){return B[D]=D+E}var C=".bem_"+F.__self._name;return B[D]=D.split(".").map(function(H,G){return G==0?H+C:C+"_"+H}).join("")+E},trigger:function(C,B){this.__base(C=this.buildEvent(C),B).domElem&&this._ctxTrigger(C,B);return this},_ctxTrigger:function(C,B){var F=this,E=f[F.__self._buildCtxEventName(C.type)],D={};E&&F.domElem.each(function(){var H=this,G=E.counter;while(H&&G){var J=e.identify(H,true);if(J){if(D[J]){break}var I=E.ctxs[J];if(I){e.each(I,function(L,K){K.fn.call(K.ctx||F,C,B)});G--}D[J]=true}H=H.parentNode}})},setMod:function(C,D,B){if(C&&typeof B!="undefined"&&C.length>1){var E=this;C.each(function(){var F=e(this);F.__bemElemName=C.__bemElemName;E.setMod(F,D,B)});return E}return this.__base(C,D,B)},_extractModVal:function(F,C,E){var B=(C||this.domElem)[0],D;B&&(D=B.className.match(this.__self._buildModValRE(F,E||C)));return D?D[2]:""},_extractMods:function(B,F){var E={},C=!B.length,D=0;((F||this.domElem)[0].className.match(this.__self._buildModValRE("("+(C?k:B.join("|"))+")",F,"g"))||[]).forEach(function(G){var I=(G=G.trim()).lastIndexOf(o),H=G.substr(0,I-1).lastIndexOf(o);E[G.substr(H+1,I-H-1)]=G.substr(I+1);++D});D<B.length&&B.forEach(function(G){G in E||(E[G]="")});return E},_afterSetMod:function(G,J,I,C,B){var E=this.__self,F=E._buildModClassPrefix(G,B),H=E._buildModValRE(G,B),D=J==="";(C||this.domElem).each(function(){var K=this.className;K.indexOf(F)>-1?this.className=K.replace(H,(D?"":"$1"+F+J)+"$3"):D||e(this).addClass(F+J)});B&&this.dropElemCache(B,G,I).dropElemCache(B,G,J)},findElem:function(E,G,F,D){if(arguments.length%2){D=F;F=G;G=E;E=this.domElem}else{if(typeof E=="string"){E=this.findElem(E)}}var C=this.__self,B="."+G.split(" ").map(function(H){return s(C._name,H,F,D)}).join(",.");return x(E,B)},_elem:function(C,F,B){var E=C+z(F,B),D;if(!(D=this._elemCache[E])){D=this._elemCache[E]=this.findElem(C,F,B);D.__bemElemName=C}return D},elem:function(E,D,B){if(D&&typeof D!="string"){D.__bemElemName=E;return D}if(E.indexOf(" ")<0){return this._elem(E,D,B)}var C=e([]),F=this;E.split(" ").forEach(function(G){C=C.add(F._elem(G,D,B))});return C},dropElemCache:function(E,D,B){if(E){var F=this,C=z(D,B);E.indexOf(" ")<0?delete F._elemCache[E+C]:E.split(" ").forEach(function(G){delete F._elemCache[G+C]})}else{this._elemCache={}}return this},elemParams:function(B){var C;if(typeof B=="string"){C=B;B=this.elem(B)}else{C=this.__self._extractElemNameFrom(B)}return g(B[0])[s(this.__self.getName(),C)]||{}},containsDomElem:function(C){var B=false;this.domElem.each(function(){return !(B=C.parents().andSelf().index(this)>-1)});return B},buildSelector:function(C,D,B){return this.__self.buildSelector(C,D,B)},destruct:function(C){var D=this,B=D.__self;D._isDestructing=true;D._needSpecialUnbind&&B.doc.add(B.win).unbind("."+D._uniqId);D.dropElemCache().domElem.each(function(E,F){e.each(r(F),function(G,H){var I=w[H.uniqId];I&&!I._isDestructing&&I.destruct()});l(F)});C||D.domElem.remove();delete w[D.un()._uniqId];delete D.domElem;delete D._elemCache;D.__base()}},{doc:y,win:d,_processLive:function(C){var E=this,D=E._liveInitable;if("live" in E){var B=typeof D=="undefined";if(B^C){if(e.isFunction(E.live)){D=E.live()!==false;E.live=function(){}}else{D=E.live}}}return D},init:function(C,E,D){if(!C||e.isFunction(C)){D=E;E=C;C=y}var B=e.identify();x(C,".i-bem").each(function(){q(e(this),B)});E&&this.afterCurrentEvent(function(){E.call(D||this,C)});this._runAfterCurrentEventFns();return C},destruct:function(C,B,D){if(typeof C!="boolean"){D=B;B=C;C=h}x(B,".i-bem",D).each(function(){e.each(r(this),function(E,F){if(F.uniqId){var G=w[F.uniqId];G&&G.destruct(true)}});l(this)});C||(D?B.empty():B.remove())},update:function(B,C,E,D){this.destruct(B,true);this.init(B.html(C),E,D)},append:function(B,C){this.init(e(C).appendTo(B))},prepend:function(B,C){this.init(e(C).prependTo(B))},before:function(B,C){this.init(e(C).insertBefore(B))},after:function(B,C){this.init(e(C).insertAfter(B))},_buildCtxEventName:function(B){return this._name+":"+B},_liveClassBind:function(C,D,H,B){var G=this;if(D.indexOf(" ")>-1){D.split(" ").forEach(function(I){G._liveClassBind(C,I,H,B)})}else{var F=p[D],E=e.identify(H);if(!F){F=p[D]={};y.bind(D,G.changeThis(G._liveClassTrigger,G))}F=F[C]||(F[C]={uniqIds:{},fns:[]});if(!(E in F.uniqIds)){F.fns.push({uniqId:E,fn:G._buildLiveEventFn(H,B)});F.uniqIds[E]=F.fns.length-1}}return this},_liveClassUnbind:function(D,E,H){var G=p[E];if(G){if(H){if(G=G[D]){var F=e.identify(H);if(F in G.uniqIds){var C=G.uniqIds[F],B=G.fns.length-1;G.fns.splice(C,1);while(C<B){G.uniqIds[G.fns[C++].uniqId]=C-1}delete G.uniqIds[F]}}}else{delete G[D]}}return this},_liveClassTrigger:function(H){var G=p[H.type];if(G){var D=H.target,B=[];for(var I in G){G.hasOwnProperty(I)&&B.push(I)}do{var C=" "+D.className+" ",F=0;while(I=B[F++]){if(C.indexOf(" "+I+" ")>-1){var E=0,K=G[I].fns,J;while(J=K[E++]){J.fn.call(e(D),H)}if(H.isPropagationStopped()){return}B.splice(--F,1)}}}while(B.length&&(D=D.parentNode))}},_buildLiveEventFn:function(D,B){var C=this;return function(F){var E=[C._name,((F.data||(F.data={})).domElem=e(this)).closest(C.buildSelector()),true],G=a.apply(null,B?E.concat([D,F]):E);G&&(B||(D&&D.apply(G,arguments)))}},liveInitOnEvent:function(C,B,D){return this.liveBindTo(C,B,D,true)},liveBindTo:function(F,C,E,B){if(e.isFunction(C)){E=C;C=F;F=h}if(!F||typeof F=="string"){F={elem:F}}F.elemName&&(F.elem=F.elemName);var D=this;if(F.elem&&F.elem.indexOf(" ")>1){F.elem.split(" ").forEach(function(G){D._liveClassBind(s(D._name,G,F.modName,F.modVal),C,E,B)});return D}return D._liveClassBind(s(D._name,F.elem,F.modName,F.modVal),C,E,B)},liveUnbindFrom:function(C,B,E){var D=this;if(C.indexOf(" ")>1){C.split(" ").forEach(function(F){D._liveClassUnbind(s(D._name,F),B,E)});return D}return D._liveClassUnbind(s(D._name,C),B,E)},_liveInitOnBlockEvent:function(D,C,F,E){var B=this._name;v[C].on(D,function(G){var H=G.block[E](B);F&&H.forEach(function(I){F.call(I)})});return this},liveInitOnBlockEvent:function(C,B,D){return this._liveInitOnBlockEvent(C,B,D,"findBlocksOn")},liveInitOnBlockInsideEvent:function(C,B,D){return this._liveInitOnBlockEvent(C,B,D,"findBlocksOutside")},liveInitOnBlockInit:function(B,C){return this.liveInitOnBlockEvent("init",B,C)},liveInitOnBlockInsideInit:function(B,C){return this.liveInitOnBlockInsideEvent("init",B,C)},on:function(B,F,E,D,C){return B.jquery?this._liveCtxBind(B,F,E,D,C):this.__base(B,F,E,D)},un:function(B,E,D,C){return B.jquery?this._liveCtxUnbind(B,E,D,C):this.__base(B,E,D)},liveCtxBind:function(B,F,E,D,C){return this._liveCtxBind(B,F,E,D,C)},_liveCtxBind:function(B,G,F,E,D){var I=this;if(typeof G=="string"){if(e.isFunction(F)){D=E;E=F;F=h}if(G.indexOf(" ")>-1){G.split(" ").forEach(function(J){I._liveCtxBind(B,J,F,E,D)})}else{var C=I._buildCtxEventName(G),H=f[C]||(f[C]={counter:0,ctxs:{}});B.each(function(){var K=e.identify(this),J=H.ctxs[K];if(!J){J=H.ctxs[K]={};++H.counter}J[e.identify(E)+(D?e.identify(D):"")]={fn:E,data:F,ctx:D}})}}else{e.each(G,function(K,J){I._liveCtxBind(B,K,J,F)})}return I},liveCtxUnbind:function(B,E,D,C){return this._liveCtxBind(B,E,D,C)},_liveCtxUnbind:function(B,E,D,C){var G=this,F=f[E=G.buildEventName(E)];if(F){B.each(function(){var I=e.identify(this,true),H;if(I&&(H=F.ctxs[I])){D&&delete H[e.identify(D)+(C?e.identify(C):"")];if(!D||e.isEmptyObject(H)){F.counter--;delete F.ctxs[I]}}});F.counter||delete f[E]}return G},_extractElemNameFrom:function(B){if(B.__bemElemName){return B.__bemElemName}var C=B[0].className.match(this._buildElemNameRE());return C?C[1]:h},extractParams:g,_buildModClassPrefix:function(C,B){return s(this._name)+(B?j+(typeof B==="string"?B:this._extractElemNameFrom(B)):"")+o+C+o},_buildModValRE:function(C,B,D){return new RegExp("(\\s?)"+this._buildModClassPrefix(C,B)+"("+k+")(\\s|$)",D)},_buildElemNameRE:function(){return new RegExp(this._name+j+"("+k+")(?:\\s|$)")},buildSelector:function(C,D,B){return"."+s(this._name,C,D,B)},getBlockByUniqId:function(B){return w[B]},getWindowSize:function(){return{width:d.width(),height:d.height()}}})})(BEM,jQuery);(function(){String.prototype.trim||(String.prototype.trim=function(){var c=this.replace(/^\s\s*/,""),a=/\s/,b=c.length;while(a.test(c.charAt(--b))){}return c.slice(0,b+1)})})();BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","id","name")}}},{params:function(a){return(this._params||{})[a]}});(function(a){if(!a){a=window.Lego={}}a.message=function(c,b){return(a.messages&&a.messages[c])||b}})(window.Lego);(function(){var b;var a={isAuthenticated:false,isFeedbackReceived:false,isRequestSent:false};var c=function(){};BEM.decl("i-mda-auth",{},{authenticate:function(e){b=Lego.params["mda-auth-url"]||"";if(b===""){return false}var d=Lego.params["mda-auth-delay"]||10;c=e||function(){};setTimeout(function(){var f=document.createElement("iframe");f.style.visibility="hidden";f.style.position="absolute";f.setAttribute("src",b);f.style.top=f.style.left=f.style.width=f.style.height=0;document.getElementsByTagName("body")[0].appendChild(f);a.isRequestSent=true},d)},isRequestSent:function(){return a.isRequestSent},isFeedbackReceived:function(){return a.isFeedbackReceived},isAuthenticated:function(){return a.isAuthenticated},getUrl:function(){return b},registerFeedback:function(d){var e=(d==="success");a.isFeedbackReceived=true;a.isAuthenticated=e;c(e)}})})();(function(a){var b=a.event.special.leftclick={setup:function(){a(this).bind("click",b.handler)},teardown:function(){a(this).unbind("click",b.handler)},handler:function(c){if(!c.button){c.type="leftclick";a.event.handle.apply(this,arguments);c.type="click"}}}})(jQuery);(function(){var c,b,d=function(){var e,f=0;while(e=c[f++]){e.val(e.elem("input").val())}},a=function(g){try{return g.activeElement}catch(f){}};BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){var h=this,f=h.elem("input"),g=a(h.__self.doc[0]),e=h.params.autoFocus&&!(g&&$(g).is("input, textarea"));h._val=f.val();if(g===f[0]||e){h.setMod("focused","yes")._focused=true}if(!b){c=[];b=h.channel("sys").on({tick:d,idle:function(){b.un("tick",d)},wakeup:function(){b.on("tick",d)}})}h._instanceIndex=c.push(h.bindTo(f,{focus:h._onFocus,blur:h._onBlur}))-1;h.params.shortcut&&h.bindToDoc("keydown",function(i){if(i.ctrlKey&&i.keyCode==38&&!$(i.target).is("input, textarea")){h.setMod("focused","yes")}})},disabled:function(f,e){this.elem("input").attr("disabled",e=="yes")},focused:function(f,e){if(this.hasMod("disabled","yes")){return false}var g=e=="yes";g?this._focused||this._focus():this._focused&&this._blur();this.afterCurrentEvent(function(){this.trigger(g?"focus":"blur")})}},onElemSetMod:{message:{visibility:function(h,i,e){var j=this,g=j.getMod(h,"type");if(g){var f=true;e||j.elem("message","type",g).each(function(){this!=h[0]&&j.hasMod($(this),"visibility","visible")&&(f=false)});f&&j.toggleMod("message-"+g,"yes","",e==="visible")}}}},val:function(g,f){if(typeof g=="undefined"){return this._val}if(this._val!=g){var e=this.elem("input");e.val()!=g&&e.val(g);this._val=g;this.trigger("change",f)}return this},name:function(e){return this.elem("input").attr("name")},_onFocus:function(){this._focused=true;return this.setMod("focused","yes")},_onBlur:function(){this._focused=false;return this.delMod("focused")},_focus:function(){var f=this.elem("input")[0];if(f.createTextRange&&!f.selectionStart){var e=f.createTextRange();e.move("character",f.value.length);e.select()}else{f.focus()}},_blur:function(){this.elem("input").blur()},destruct:function(){this.__base.apply(this,arguments);this.params.shortcut&&this.unbindFromDoc("keydown");c.splice(this._instanceIndex,1);var f=this._instanceIndex,e;while(e=c[f++]){--e._instanceIndex}}});BEM.HTML.decl("b-form-input",{onBlock:function(e){var f=e.param("id")||e.generateId();e.tag("span").tParam("id",f).tParam("has-clear",e.mod("has-clear")==="yes").afterContent({elem:"box",tag:"span",content:{elem:"input",tag:e.mod("type")||"input",attrs:{value:e.param("value"),name:e.param("name"),id:f}}}).js(true)},onElem:{label:function(e){e.tag("label").attr("for",e.tParam("id"))},box:function(e){if(e.tParam("has-clear")){e.afterContent({elem:"clear",tag:"span"})}},hint:function(e){e.tag("label").attr("for",e.tParam("id")).wrap({elem:"hint-wrap",tag:"span"})}}})})();(function(){var f,a=0,c=false,e=0,d=BEM.channel("sys"),b=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){e=0;if(c){c=false;d.trigger("wakeup")}});this._tick()},_tick:function(){var g=this;d.trigger("tick",{counter:a++});if(!c&&(e+=b)>3000){c=true;d.trigger("idle")}f=setTimeout(function(){g._tick()},b)}}).start()})();BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){this.__base.apply(this,arguments);(this._hasHint=!!this.elem("hint")[0])&&this.on("change",this._updateHint)._updateHint()},focused:function(){this.__base.apply(this,arguments);this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint-wrap"),"visibility","visible",!(this._focused||this.val()))}});(function(){var a={};BEM.decl("i-request",{get:function(c,e,b,d){if(!$.isFunction(b)){d=b;b=this.params.onError}this._get(c,e,b,$.extend({},this.params,d))},_get:function(e,g,d,f){var c=this._buildCacheKey(e,f),b=a[f.cacheGroup];f.cache&&b&&c in b.data?g.call(this.params.callbackCtx,b.data[c]):this._do(e,g,d,f)},_do:function(c,e,b,d){},_onSuccess:function(c,b,d,e){e.cache&&this.putToCache(e,c,d)},_buildCacheKey:function(b,c){return typeof b=="string"?b:$.param(b)},putToCache:function(f,d,e){var b=a[f.cacheGroup]||(a[f.cacheGroup]={keys:[],data:{}});if(b.keys.length>=f.cacheSize){delete b.data[b.keys.shift()]}var c=this._buildCacheKey(d,f);b.data[c]=e;b.keys.push(c)},dropCache:function(){delete a[this.params.cacheGroup]},getDefaultParams:function(){return{cache:false,cacheGroup:"default",cacheSize:100,callbackCtx:this}}})})();BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:function(){this.__base();this._requestNumber=this._number=this._preventNumber=this._retryCount=0}},_get:function(b,d,a,c){this._number++;this._requestNumber++;this._retryCount=c.retryCount;this.__base.apply(this,arguments)},_do:function(d,f,c,e){var g=this;if(g._number>g._preventNumber){var a=arguments,b={data:e.data?$.extend({},e.data,d):d,success:g._wrapCallback(function(j,h,i){g._onSuccess(g._buildCacheKey(d,e),d,j[0],e);g._allowCallback(h,i)&&f.apply(e.callbackCtx,j)}),error:g._wrapCallback(function(j,h,i){g._allowCallback(h,i)&&(g._retryCount-->0?setTimeout(function(){g._do.apply(g,a)},e.retryInterval):c&&c.apply(e.callbackCtx,j))})};$.each(["url","dataType","timeout","type","jsonp","jsonpCallback"].concat(e.paramsToSettings||[]),function(j,h){b[h]=e[h]});$.ajax(b)}},_wrapCallback:function(c){var a=this._requestNumber,b=this._number;return function(d){d!==null&&c(arguments,a,b)}},_allowCallback:function(a,b){return b>this._preventNumber&&this._requestNumber==a},_buildCacheKey:function(a,b){return typeof a=="string"?a:this.__base(a)+b.url},abort:function(){this._preventNumber=++this._number},preventCallbacks:function(){this.abort()},getDefaultParams:function(){return $.extend(this.__base(),{cache:true,type:"GET",dataType:"jsonp",timeout:20000,retryCount:0,retryInterval:2000})}});BEM.decl({name:"b-form-input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(a,b){return this.__base({part:a},function(c){b.call(this,{items:c[1],metainfo:c[2]})})}});BEM.decl({name:"b-form-input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(b,e){var a=this.params.url,d={part:b,pos:this.params.callbackCtx.getSelectionEnd(),yu:Lego.params.yandexuid||"",srv:this.params.callbackCtx.params.suggestType||Lego.params.id||""},c=this._getLR();(c&&!a.match(/lr=(.*?)(?:&|$)/))&&(d.lr=c);return this.__base(d,function(f){e.call(this,{items:f[1],metainfo:f[2]})})},_onSuccess:function(b,a,c,d){(c[2]&&c[2].nocache)&&(this._preventCache=true);this.__base.apply(this,arguments)},_getLR:function(){if(this.hasOwnProperty("_lr")){return this._lr}var b=document.getElementsByName("lr");if(b.length){return this._lr=b[0].value}try{lrParam=window.location.toString().match(/lr=(.*?)(?:&|$)/);if(lrParam){return this._lr=lrParam[1]}}catch(a){}return this._lr=""}});(function(d){var c,g=[],a=d.browser;function f(){return g.length?g.shift():c?c.clone():c=b()}function e(h){g.push(h)}function b(){return d((a.safari||a.webkit)&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1?"<div/>":"<iframe"+(a.msie&&a.version<9?' frameborder="0"':"")+"/>")}BEM.DOM.decl("i-popup",{onSetMod:{visibility:{visible:function(){var h=this._getUnder(),i=h.parent();this.hasMod(h,"type","paranja")?i.is("body")||h.appendTo("body"):(i[0]!==this.domElem[0])&&h.prependTo(this.domElem);this._inBody||(this._inBody=!!this.domElem.appendTo("body"));this.trigger("show")},"":function(){var h=this._getUnder();this.hasMod(h,"type","paranja")&&h.remove();this._putUnder();this.trigger("hide")}}},_getUnder:function(){return this._under||(this._under=f().attr("class",this._underClass||(this._underClass=this.findElem("under").remove().attr("class"))))},_putUnder:function(){e(this._under);delete this._under},show:function(h){h&&this.domElem.css(h);return this.setMod("visibility","visible")},hide:function(){return this.delMod("animate").delMod("visibility")}},{live:true})})(jQuery);BEM.HTML.decl("i-popup",{onBlock:function(a){a.mod("autoclosable","yes").js(true).wrapContent({elem:"content"}).afterContent({elem:"under",mods:a.param("underMods"),mix:a.param("underMix")}).param("zIndex")&&a.attr("style","z-index:"+(32700+a.param("zIndex")))}});BEM.DOM.decl("i-popup",{hide:function(){var a=this;window.setTimeout(function(){a.delMod("animate").delMod("visibility")},300);return this}});(function(a){BEM.DOM.decl({name:"i-popup",modName:"autoclosable",modVal:"yes"},{onSetMod:{visibility:{visible:function(){var b=a.browser.opera?"keypress":"keydown";this.afterCurrentEvent(function(){this.bindToDoc("leftclick",function(c){this.containsDomElem(a(c.target))||this._onOutClick(c)}).bindToDoc(b,function(c){c.keyCode==27&&this.hide()})});this.__base.apply(this,arguments)},"":function(){return this.unbindFromDoc("leftclick keypress").__base.apply(this,arguments)}}},_onOutClick:function(b){var c=a.Event("outside-click");this.trigger(c,{domEvent:b});c.isDefaultPrevented()||this.hide()}})})(jQuery);(function(a){if(!a){a=window.Lego={}}var b="…";a.cleverSubstring=function(e,c,d){return(e.length>c+d)?e.substring(0,c-1)+b:e};a.escapeHTML=(function(){var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return d[e]||e};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(f){return d[f]||f})}})();a.escapeRegExp=function(c){return c.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}})(window.Lego);BEM.decl("i-common__string",{},{highlight:function(e,a){if(!$.isArray(a)){return e}var f=[],d=0,b,c=a.sort(function(h,g){return h[0]-g[0]});c.forEach(function(g){b=(d>g[0])?d:g[0];f.push({tag:"span",elem:"span",content:Lego.escapeHTML(e.slice(d,b))});f.push({tag:"em",elem:"em",content:Lego.escapeHTML(e.slice(b,d=g[1]))})});f.push({tag:"span",elem:"span",content:Lego.escapeHTML(e.slice(d))});return f}});BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(a){}},{live:function(){this.liveBindTo("mouseover mouseout mousedown",function(a){this.trigger(a.type)})}});BEM.HTML.decl("b-autocomplete-item",{onBlock:function(a){var c=a.param("data"),b=a.param("suggestVersion")==4,d=$.isArray(c)?c[1]:c;b&&(d=Lego.escapeHTML(d));$.isArray(a.param("search_cgi"))&&a.js({cgi:a.param("search_cgi")});a.tag("li").mod("pers",a.param("pers")?"yes":false).content(BEM.blocks["i-common__string"].highlight(d,a.param("hl"))).js(true)}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"hl"},{onBlock:function(a){a.content($.map(a.param("data").slice(1),function(b){return $.isArray(b)?{tag:"span",elem:"highlight",content:b[0]}:b}))}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"fact"},{onBlock:function(a){var c=a.param("data").slice(1),b=a.param("suggestVersion")==4;a.content([{tag:"span",elem:"text",content:BEM.blocks["i-common__string"].highlight(c[0],a.param("hl"))},{tag:"span",elem:"fact",content:[" — ",b?Lego.escapeHTML(c[1]):c[1]]}])}});BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{enter:function(){return false},select:function(a){a&&$('<form style="display:none" action="'+this.val()+'" target="_blank"/>').appendTo("body").submit().remove();return{needEvent:true}}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onBlock:function(b){var e=b.param("data"),d=b.param("suggestVersion")==4,a=e[4]||e[3],c=(a.match(/^\w[\w-]*:\/\//g)?"":"http://")+a;b.js({val:c}).content({elem:"link",url:c,title:d?Lego.escapeHTML(e[3]):e[2],description:BEM.blocks["i-common__string"].highlight(d?e[2]:e[1],b.param("hl"))})},onElem:{link:function(a){a.tag("a").attrs({href:a.param("url"),target:"_blank"}).content([{elem:"link-url",tag:"span",content:a.param("title")},{elem:"link-info",tag:"span",content:["&nbsp;&mdash; "].concat(a.param("description"))}])}}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nah"},{onBlock:function(a){a.content(a.param("data")[1])}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"weather"},{onBlock:function(a){var c=a.param("data").slice(1),b=a.param("suggestVersion")==4,d=function(e){return b?Lego.escapeHTML(e):e};a.content([{tag:"span",elem:"text",content:d(c[0])},{tag:"i",elem:"icon",mods:{weather:c[2].replace("+","_")}},{tag:"span",elem:"value",content:d(c[1].replace("-","&ndash;"))}])}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"traffic"},{onBlock:function(a){var c=a.param("data").slice(1),b=a.param("suggestVersion")==4,d=function(e){return b?Lego.escapeHTML(e):e};a.content([{tag:"span",elem:"text",content:d(c[0])},{tag:"i",elem:"icon",mods:{traffic:c[2]}},{tag:"span",elem:"value",content:d(c[1])}])}});BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return false}});BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{onBlock:function(a){a.mod("enterable","no").content($.map(a.param("data").slice(1),function(b){return $.isArray(b)?{tag:"span",elem:"foot",content:b[0]}:b}))}});(function(){var b=BEM.HTML,a=BEM.DOM;a.decl({name:"b-form-input",modName:"autocomplete",modVal:"yes"},{onSetMod:{js:function(){var d=this;d.params.foot&&(d.foot=d.params.foot);d._preventRequest=true;d._preventPopupShow=false;d._isPopupShown=false;d.__base.apply(d,arguments);d._userVal=d.val();var c=d._focused;c&&d.delMod("focused");d.elem("input").attr("autocomplete","off");d._preventRequest=false;c&&d.setMod("focused","yes");d._items=[];d._curItemIndex=-1;d._doRequest=$.debounce(d._doRequest,d.params.debounceDelay)},focused:{yes:function(){this.__base();this.on("change",this._onChange())},"":function(){this.__base();this.un("change",this._onChange)._preventHide||this._getPopup().hide()}}},onElemSetMod:{popup:{fixed:{yes:function(){this._isPopupShown&&this.afterCurrentEvent(function(){this._updatePopupPos()})},"":function(){this._isPopupShown&&this.afterCurrentEvent(function(){this._updatePopupPos()})}}}},getDataprovider:function(){var c=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",$.extend(this.params.dataprovider,{url:c,callbackCtx:this})))},_onChange:function(){this._preventRequest||this._doRequest();return this._onChange},_onKeyDown:function(j){var k=j.keyCode==38||j.keyCode==40;if(k&&!j.shiftKey){j.preventDefault();var c=this._items.length,f=false;if(c){var h=j.keyCode-39,d=this._curItemIndex,g=0;do{f=((d==0&&h==-1)||(d+h>=c))&&this._onLeaveItem(this._items[d],true);d+=h;d=d<0?c-1:d>=c?0:d}while(!f&&this._onEnterItem(this._items[d],true)===false&&++g<c)}}},_onKeyPress:function(c){if(c.keyCode==13&&this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard){c.preventDefault();this._onSelectItem(this._items[this._curItemIndex],true)}},_getPopup:function(){var f=this;if(!f._popup){var c=($.browser.opera&&$.browser.version<12.1)?"keypress":"keydown",e=f.__self.getName(),d=[{elem:"items",tag:"ul",mix:[{block:e,elem:"popup-items"}]},{block:"b-form-input",elem:"shadow",tag:"i"}];f._hasPopupFade()&&d.push({block:e,elem:"fade"});f._popup=$(b.build({block:"i-popup",mix:[{block:e,elem:"popup",mods:f.params.popupMods,js:{uniqId:f._uniqId}}],content:d})).bem("i-popup").on({show:function(){f.bindTo("keypress",f._onKeyPress).bindTo(c,f._onKeyDown).bindToWin("resize",f._updatePopupPos)._isPopupShown=true},"outside-click":function(h,g){f.containsDomElem($(g.domEvent.target))&&h.preventDefault()},hide:function(){f.unbindFrom("keypress "+c).unbindFromWin("resize")._curItemIndex=-1;f._isPopupShown=false}});$.each({mouseover:f._onEnterItem,mouseout:f._onLeaveItem,mousedown:f._onSelectItem},function(h,g){BEM.blocks["b-autocomplete-item"].liveCtxBind(f._popup.domElem,h,function(i){g.call(f,i.block)})});a.init(f._popup.domElem)}return f._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return(this.params.popupMods||{}).fade=="yes"},_updatePopupPos:function(){var d=this.elem("box"),c=d.offset();c.top+=d.outerHeight();this.hasMod(this.elem("popup"),"fixed")&&(c.top-=a.win.scrollTop());this._hasPopupFade()&&(c.width=d.outerWidth());this._preventPopupShow||this._getPopup().show(c)},_onEnterItem:function(e,f){if(e.hasMod("enterable","no")){return false}var c=this._items,d=this._curItemIndex;d>-1&&c[d].delMod("hovered");d=this._getItemIndex(e);d>-1&&c[d].setMod("hovered","yes");this._curItemIndex=d;this._isCurItemEnteredByKeyboard=!!f;if(f&&this.params.updateOnEnter){this._preventRequest=true;this.val(e.enter()!==false?e.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest")}},_onLeaveItem:function(d,e){var c=this._curItemIndex;if(c>-1&&c==this._getItemIndex(d)){this._items[c].delMod("hovered");this._curItemIndex=-1}e&&this.val(this._userVal);return true},_onSelectItem:function(d,f){var c=d.select(f||false),g=(typeof c=="object")?c.needUpdate:c!==false,e=(typeof c=="object")&&c.needEvent;this._preventRequest=true;g&&this.val(this._userVal=d.val(),{source:"autocomplete",itemIndex:this._curItemIndex})._getPopup().hide();if(f){this.del("_preventRequest")}else{g||(this._preventHide=true);this.afterCurrentEvent(function(){this.setMod("focused","yes").del("_preventRequest","_preventHide")})}(g||e)&&this.trigger("select",{item:d,byKeyboard:f})},_getItemIndex:function(c){return $.inArray(c,this._items)},_doRequest:function(){var c=this;c.enablePopup();c._userVal=c.val();c.trigger("data-requested").getDataprovider().get(c.val(),function(f){c.trigger("data-received",f);var d=c._getPopup(),e=f.items||f;c.foot&&e.length&&($.inArray(c.foot,e)==-1)&&e.push(c.foot);if(e.length){c._curItemIndex=-1;a.update(d.elem("items"),c._buildItemsHtml(e),function(){c._updatePopupPos();c._items=d.findBlocksInside("b-autocomplete-item");c.trigger("update-items")})}else{d.hide()}})},_buildItemsHtml:function(c){var d=this;return b.build($.map(c,function(f,e){return{block:"b-autocomplete-item",data:f,mods:{type:$.isArray(f)?f[0]:"text"},suggestVersion:d.params.dataprovider.version}}))},setFoot:function(c){return this.foot=c},getDefaultParams:function(){return $.extend(this.__base(),{updateOnEnter:true,debounceDelay:50})},enablePopup:function(){this._preventPopupShow=false},disablePopup:function(){this._preventPopupShow=true}})})();BEM.DOM.decl({name:"b-form-input",modName:"autocomplete",modVal:"yes"},{_updatePopupPos:function(){var b=this.elem("box"),a=b.offset();a.top+=b.outerHeight();this.hasMod(this.elem("popup"),"fixed")&&(a.top-=DOM.win.scrollTop());this._preventPopupShow||this._getPopup().show(a)}});BEM.DOM.decl({name:"b-form-input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){this.__base();$.extend(true,this.params,{popupMods:{suggest:"yes"}})}}});BEM.DOM.decl({name:"b-form-input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);this.on("data-received",function(c,b){var a=b.metainfo,d=a.pers_options||a.n;if(d){this._toggleNahFoot(d===1)}})}},_toggleNahFoot:function(b){var a=/\(\(([^\)]+)\)\)/g,c=Lego.message("b-suggest.hah:linkHref","http://tune.yandex.ru/suggest/?retpath="+encodeURIComponent(location.protocol+"//"+location.host));this._suggestFoot||(this._suggestFoot=this.setFoot(["foot",(b?Lego.message("b-suggest.hah:on","Мои запросы ((включены))"):Lego.message("b-suggest.hah:off","Мои запросы ((отключены))")).replace(a,'<a class="b-link" href="'+c+'">$1</a>')]))},getSelectionEnd:function(){var e=this.elem("input")[0],c=0;if(typeof(e.selectionEnd)=="number"){c=e.selectionEnd}else{var d=document.selection.createRange();if(d&&d.parentElement()==e){var b=e.value.length,a=e.createTextRange();a.moveToBookmark(d.getBookmark());var f=e.createTextRange();f.collapse(false);c=a.compareEndPoints("EndToEnd",f)>-1?b:-a.moveEnd("character",-b)}}return c}});BEM.DOM.decl({name:"b-form-input",modName:"type",modVal:"autofocus"},{onSetMod:{js:function(){var b=function(c){this._preventPopupShow=true;this.un("data-requested",b)};this._preventRequest=true;this.on("data-requested",b);this.delMod("focused");this.setMod("focused","yes")._focused=true;this.__base.apply(this,arguments);this._preventRequest=false;var a=this;$(window).bind("keyboardOpened.lego",function(){a.setMod("focused","yes")._focused=true});this.bindTo("click",function(){this._preventRequest||this._focused&&!this._isPopupShown&&this._doRequest()})}}});(function(d){var c,b={},a=BEM.decl("i-loader",{},{load:function(g,k,j,h){if(typeof k!="string"){h=j;j=k;k=g}var e=b[g];if(e){if(e.successFns){e.successFns.push(j);h&&e.errorFns.push(h)}else{setTimeout(function(){j()},0)}return}var i=document,f=i.createElement("script"),l=function(){a._error(g)};f.type="text/javascript";f.charset="utf-8";f.src=!d.browser.msie||i.documentMode>8?k:k.replace(/(\.[^.]+)$/,".ie$1");f.onerror=l;setTimeout(function(){(c||(c=d("head")[0])).insertBefore(f,c.firstChild)},0);b[g]={successFns:[j],errorFns:h?[h]:[],timer:setTimeout(l,20000)}},loaded:function(f){var j=b[f.id];clearTimeout(j.timer);f.js&&f.js();f.css&&a._appendCss(f.css);if(f.hcss){var i=[],e=window._ycssjs;f.hcss.forEach(function(k){if(e){if(k[0] in e){return}e(k[0])}i.push(k[1])});i.length&&a._appendCss(i.join(""))}var g=j.successFns,h;while(h=g.shift()){h()}delete j.successFns},_error:function(f){var h=b[f],e=h.errorFns,g;clearTimeout(h.timer);while(g=e.shift()){g()}delete b[f]},_appendCss:function(e){var f=document.createElement("style");f.type="text/css";c.insertBefore(f,c.firstChild);f.styleSheet?f.styleSheet.cssText=e:f.appendChild(document.createTextNode(e))}})})(jQuery);(function(){BEM.DOM.decl("b-head-stripe",{onSetMod:{js:function(){this.bindTo("leftclick",this._install);this.bindTo("close","leftclick",function(c){this._close(c)});var a=this.getMod("theme")||this.elem("theme").text(),b=this.elem("counter").text();a&&(this._changeTheme(a));b&&(this._generateCounter(b))}},_install:function(b){b.preventDefault();var a=this.elem("install").attr("href");a&&(window.location=a)},_close:function(a){a.preventDefault();a.stopPropagation();new Image().src=this.elem("close").attr("href");this.domElem.animate({"margin-top":"-20px"},500);this.setMod("state","closed")},_changeTheme:function(a){if(!a){return}var b=this;BEM.blocks["i-loader"].load("b-head-stripe_theme_"+a,Lego.params["lego-static-host"]+"/blocks-desktop/b-head-stripe/_theme/b-head-stripe_theme_"+a+".bembundle.js",function(){b.setMod("theme",a)})},_generateCounter:function(a){new Image().src=a}})})();BEM.DOM.decl("b-head-stripe",{onSetMod:{js:function(){this.__base.apply(this,arguments)}},_install:function(c){var b,a;c.preventDefault();this._close(c);if(c.target.href){b=this.params.set_cntr;a=c.target.href}else{b=this.params.stripe_cntr;a=this.params.stripe_url}if(b){cp(b)}setTimeout(function(){if(a){window.location=a}else{this.__base.apply(this,arguments)}},200)},_close:function(a){this.__base.apply(this,arguments);$(window).trigger("popupredraw.lego");a.preventDefault();a.stopPropagation()},_changeTheme:function(){}});BEM.DOM.decl({block:"b-head-stripe",modName:"type",modVal:"wide"},{onSetMod:{js:function(){this.__base.apply(this,arguments);this.domElem.animate({"margin-top":0},1000);var a=this;var b=setTimeout(function(){a._doCloseAnimation()},5000);this.bindTo("mouseover",function(){clearTimeout(b)});this.bindTo("mouseout",function(){b=setTimeout(function(){a._doCloseAnimation()},1500)})}},_doCloseAnimation:function(){var a=this;this.domElem.animate({"margin-top":"-4em"},1000,function(){a.setMod("state","closed")})}});BEM.DOM.decl({name:"b-link",modName:"pseudo",modVal:"yes"},{_onClick:function(a){a.preventDefault();this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.__base.apply(this,arguments);this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick",function(a){this._onClick(a)})}});(function(){var c=false,a=false,b=[];BEM.decl("i-https",{},{isHTTPSSupported:function(){return a},enableHTTPS:function(){a=true;var d;while(d=b.shift()){d()}},getHTTPSHost:function(){var d=Lego.params["lego-static-host"];if(d){if(d.indexOf("https:")==0){return d}if(d.indexOf("http:")==0){return"https"+d.substr(4)}if(d.indexOf("//")==0){return"https:"+d}else{return"https://"+location.host+d}}else{return"https://"+location.host}},checkForHTTPS:function(d){if(a){return d()}b.push(d);if(c){return}c=true;BEM.create("i-request_type_ajax",{url:this.getHTTPSHost()+"/blocks-desktop/i-https/check-https.js",dataType:"script"}).get({},function(){},false,this)}})})();BEM.DOM.decl("b-form-button",{onSetMod:{js:function(){var a=this.isDisabled();(this._href=this.domElem.attr("href"))&&a&&this.domElem.removeAttr("href");this.elem("input").attr("disabled",a)},focused:{yes:function(){if(this.isDisabled()){return false}var a=this;a.bindTo("keydown",this._onKeyDown).elem("input").focus();a._unloadInited||(a._unloadInited=$(window).bind("unload",function(){a.delMod("focused")}))},"":function(){this.unbindFrom("keydown").elem("input").blur()}},disabled:function(c,a){var b=a=="yes";this.elem("input").attr("disabled",b);this._href&&(b?this.domElem.removeAttr("href"):this.domElem.attr("href",this._href));b&&this.domElem.keyup()},pressed:function(b,a){this.isDisabled()||this.trigger(a=="yes"?"press":"release")},hovered:{"":function(){this.delMod("pressed")}},"*":function(a){if(this.isDisabled()&&"hovered pressed".indexOf(a)>-1){return false}}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(a){if(typeof a=="undefined"){return this._href}else{this._href=a;this.isDisabled()||this.domElem.attr("href",a);return this}},_onKeyDown:function(b){var a=b.keyCode;if((a==13||a==32)&&!this._keyDowned){this._keyDowned=true;this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup");delete this._keyDowned;if(a==32&&this.domElem.attr("href")){document.location=this.domElem.attr("href")}})}},_onClick:function(a){this.isDisabled()?a.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){var a={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}};this.liveBindTo("leftclick",function(b){this._onClick(b)}).liveBindTo("mouseover mouseout mouseup focusin focusout",function(c){var b=a[c.type];this.setMod(b.name,b.val||"")}).liveBindTo("mousedown",function(c){var b=a[c.type];c.which==1&&this.setMod(b.name,b.val||"")})}});BEM.HTML.decl("b-form-button",{onBlock:function(a){a.tag(a.param("url")?"a":"span").attrs({href:a.param("url"),target:a.param("target")}).mods({size:a.mod("size")||"s",theme:a.mod("theme")||"grey-s"}).content([{elem:"left",tag:"i"},{elem:"content",tag:"span",content:{elem:"text",tag:"span",content:a.content()}}],true).afterContent(a.param("type")?{elem:"input",attrs:{value:"",type:a.param("type"),disabled:a.mod("disabled")&&"disabled"}}:{elem:"click"}).js(true)},onElem:{input:function(a){a.tag("input")},click:function(a){a.tag("i")}}});(function(b,a){var c=BEM.blocks["i-https"];a.block["b-domik"]=function(A){var d=this,u=d.find(".b-domik__lock"),w=d.find(".b-domik__social"),y=w.length&&BEM.DOM.extractParams(w[0])["b-domik__social"].size,k=arguments.callee,n=b('<input type="hidden" name="timestamp"/>'),x=this.attr("class").match(/\bb-domik_type_(\w+)\b/)[1];if(w.length&&a.params["social-host"]){if(a.params["social-providers"]&&a.params["social-sprites"]){B(a.params["social-providers"],a.params["social-sprites"][y])}else{b.getJSON(a.params["social-host"]+"/providers2.jsonp?callback=?",function(E){B(E.providers,E.icon_sprites[y])})}var D=new a.block["i-social"];b(".b-domik__social-link").live("click",function(E){j();b(".b-domik__social-popup").each(function(){b(this).bem("b-popupa").hide()});D.start(function(){if(!a.params.retpath||top.location.href==a.params.retpath){top.location.reload()}else{top.location.href=a.params.retpath}},function(){w.removeClass("b-domik__social_loading_yes").css("height","").find(".b-spin").bem("b-spin").delMod("progress")},{provider:BEM.DOM.extractParams(this)["b-domik__social-link"].provider});E.preventDefault()})}function B(G,F){if(!G.length){w.remove();return}w.html(m(G,F));var H=w.find(".b-dropdowna");if(!H.length){return}BEM.DOM.init(H);BEM.DOM.init(w.find(".b-spin"));var I=H.bem("b-dropdowna").getPopup();function E(){I.pos()}I.on("show",function(){b(window).scroll(E)}).on("hide",function(){b(window).unbind("scroll",E)})}function m(H,G){var I=[{block:"b-domik",elem:"social-title",content:a.message("b-domik:enter-with","Войти при помощи")}];H=b.grep(H,function(J){return J.enabled});var F=b.grep(H,function(J){return J.primary});F=b.map(F,function(J){return{block:"b-domik",tag:"a",elem:"social-link",content:{tag:"i",elem:"social-icon",attrs:{style:'background-image:url("'+G+'");background-position: 0px -'+(J.id-1)*32+"px;"}},js:{provider:J.code},attrs:{tabIndex:103}}});[].push.apply(I,F);function E(M){var L=b.map(M,function(O){return{block:"b-domik",tag:"a",elem:"social-link",mods:{},attrs:{tabIndex:103},js:{provider:O.code},content:[{tag:"i",elem:"social-icon",attrs:{style:'background-image:url("'+G+'");background-position: 0px -'+(O.id-1)*32+"px;"}},O.display_name]}});L.length%2&&(L[L.length]="");var K=[],N;for(var J=0;J<L.length;J++){J%2||K.push(N={tag:"tr",content:[]});N.content.push({tag:"td",elem:"provider",content:L[J]})}return K}if(F.length<H.length){I.push({tag:"div",block:"b-dropdowna",js:true,content:[{elem:"switcher",tag:"span",content:{tag:"a",block:"b-link",mods:{pseudo:"yes","is-bem":"yes"},js:true,attrs:{href:a.message("b-domik:passport-link","http://passport.yandex.ru/"),tabIndex:103}}},{block:"b-popupa",js:true,tag:"div",mix:[{block:"b-dropdowna",elem:"popup"},{block:"b-domik",elem:"social-popup",mods:{type:x}}],content:[{elem:"tail",tag:"i"},{elem:"content",content:[{elem:"providers",tag:"table",content:E(H)}]}]}]})}I.push({block:"b-spin",js:true,mods:{size:x=="bigform"?"45":"27",theme:x=="bigform"?"white-45":"white-27","is-bem":"yes"},content:{block:"b-icon",tag:"img",attrs:{src:"//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"}}});return BEM.HTML.build(I)}function j(){w.css("height",w.height()).addClass("b-domik__social_loading_yes").find(".b-spin").bem("b-spin").setMod("progress","yes")}k.isHTTPSSupported=false;d.append(n).submit(function(){n.val(+new Date);var E=d.attr("action");if(E&&a.block["b-domik"].isHTTPSSupported){d.attr("action",E.replace(/^http:/,"https:"))}});var r=d.find("input[name=login]"),p=d.find("input[name=passwd]"),s=d.find("input[type=submit]");r.change(function(){var E=r.val();E.indexOf("@")==-1&&/[а-яçğıöşü]/i.test(E)?i(A&&A.err_msg||a.message("b-domik:wrong-keyboard-layout","смените раскладку")):o()});r.change();p.change(function(){var E=p.val();E.length&&/[^0-9a-z!@#\$%\^&\*\(\)_\-\+:;\,\.]/i.test(E)?i(a.message("b-domik:wrong-keyboard-layout","смените раскладку")):o()});p.change();var h;function i(E){!h&&(h=b('<div class="b-domik__error"/>').insertAfter(d.find(".b-domik__password")));h.text(E).show()}function o(){h&&h.hide()}k.enableHTTPS=function(){k.isHTTPSSupported=true;u.addClass("b-domik__lock_visibility_visible")};k.checkForHTTPS=c.checkForHTTPS;c.checkForHTTPS(function(){k.enableHTTPS()});var z=k.getLockBaloonContent||function(){var F=/\(\(([^)]+)\)\)/g;function E(I,H){return I.replace(F,'<a class="b-link" href="'+H+'">$1</a>')}var G=a.message("b-domik.lock-balloon:content","Логин и пароль будут передаваться в&#160;((безопасном режиме))");return E(G,a.message("b-domik.lock-balloon:linkHref","http://help.yandex.ru/mail/?id=1113446"))},e=b(BEM.HTML.build({block:"b-popupa",mods:{direction:"right",theme:"feffd6"},mix:[{block:"b-domik",elem:"lock-balloon"}],content:[{elem:"tail",tag:"i"},{elem:"content",content:z()}]}));d.append(e);var l=e.bem("b-popupa"),g=300,q;function f(){q=setTimeout(function(){l.hide()},g)}var C;function v(){q&&clearTimeout(q);q=null;l.show(u);if(!C){C=true;e.hover(v,f)}}u.hover(v,f)}})(jQuery,window.Lego);(function(a){BEM.DOM.decl("b-domik",{onSetMod:{js:function(){this.bindTo("input","keyup",this._onChange)}},_onChange:function(b){a(b.target).trigger("change")}})}(jQuery));(function(a){BEM.DOM.decl("b-dropdowna",{onSetMod:{js:function(){this._getSwitcher().on("click",this._toggle,this)},disabled:function(c,b){this._getSwitcher().setMod(c,b);b=="yes"&&this.getPopup().hide()}},_getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside("b-"+(this.getMod(this.elem("switcher"),"type")||"link")))},_toggle:function(){this.getPopup().toggle(this.elem("switcher"))},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("b-popupa")).on("outside-click",function(c,b){this._getSwitcher().containsDomElem(a(b.domEvent.target))&&c.preventDefault()},this)},destruct:function(){var b=this._popup;b&&b.destruct.apply(b,arguments);this.__base.apply(this,arguments)}},{live:function(){this.liveInitOnEvent("switcher","leftclick",function(){})}})})(jQuery);(function(c){BEM.DOM.decl("b-popupa",{onSetMod:{js:function(){this._owner=null;this._isShowed=false;this._direction=this.getMod("direction")||"down";this._lastDirection=null}},show:function(k){if(!this._isShowed||this._owner!==k){this._owner=k;this._getUnder().show({left:-10000,top:-10000});this.pos();this._getUnder().setMod("animate","yes")}return this},hide:function(){this._isShowed&&this._getUnder().hide();return this},toggle:function(k){return this.isShowed()?this.hide():this.show(k)},pos:function(){if(!this._isShowed){return this}var k=this._calcParams(this._owner);this.elem("tail").css(k.tailOffsets);this.setMod("direction",k.direction)._getUnder().show(k.offsets);return this},isShowed:function(){return this._isShowed},setDirection:function(k){if(this._direction!=k){this._direction=k;this.isShowed()&&this.pos()}},setContent:function(k,m,l){BEM.DOM.update(this.elem("content"),k,m,l);return this.isShowed()?this.pos():this},_isOwnerNode:function(){return !!(this._owner&&this._owner.jquery)},_calcDimensions:function(){var u=this._getUnder()._getUnder(),r=this.__self.win,n=this._owner,v=this._isOwnerNode(),s=v?n.offset():n,l=v?n.outerWidth():d,m=v?n.outerHeight():d,p=r.scrollLeft(),o=r.scrollTop(),q=this.__self.getWindowSize(),k=parseInt(this.elem("content").css("border-top-width"),10);return{ownerLeft:s.left,ownerTop:s.top,ownerRight:s.left+l,ownerBottom:s.top+m,ownerMiddle:s.left+l/2,underWidth:u.outerWidth(),underHeight:u.outerHeight(),borderWidth:isNaN(k)?0:k,windowLeft:p,windowRight:p+q.width,windowTop:o,windowBottom:o+q.height}},_calcParams:function(){var p=this._calcDimensions();if(this.hasMod("adjustable","no")){return e(this._direction,p)}var k={},m=this.params.directions,q=c.inArray(this._direction,m);q>-1||(q=0);var l=q,o,n;do{o=m[q];n=k[o]=e(o,p);if(!n.factor){this._lastDirection=o;return n}++q==m.length&&(q=0)}while(q!==l);return k[this._lastDirection||m[0]]},getDefaultParams:function(){return{directions:h}},destruct:function(){var k=this._under;if(!k){this.__base.apply(this,arguments)}else{if(!this._destructing){this._destructing=true;this.hide();BEM.DOM.destruct(false,k.domElem);this.__base(true)}}},_getUnder:function(){if(!this._under){var k=c(BEM.HTML.build({block:"i-popup",zIndex:this.params.zIndex,mods:{autoclosable:this.getMod("autoclosable")||"yes",fixed:this.hasMod("direction","fixed")&&"yes"},underMods:this.params.underMods,underMix:[{block:"b-popupa",elem:"under"}]}));(this._under=this.findBlockOn(k,"i-popup")).on({show:this._onUnderShowed,hide:this._onUnderHidden,"outside-click":this._onUnderOutsideClicked},this).elem("content").append(this.domElem)}return this._under},_onUnderShowed:function(){this._isShowed=true;this.bindToWin("resize",this.pos)._isOwnerNode()&&this.bindToDomElem(this._owner.parents().add(this.__self.win),"scroll",this.pos);this.trigger("show")},_onUnderHidden:function(){this._isShowed=false;this.unbindFromWin("resize")._isOwnerNode()&&this.unbindFromDomElem(this._owner.parents().add(this.__self.win),"scroll");this.trigger("hide")},_onUnderOutsideClicked:function(){this.trigger.apply(this,arguments)}},{live:function(){this.liveBindTo("close","leftclick",function(){this.hide()})}});var d=19,a=7,i=15,f=15,g=7,j=7,h=["down-right","down","down-left","up","up-right","up-left","right-down","right","right-up","left-down","left","left-up"];function e(o,p){var l,m,k,n;switch(o){case"down":case"up":l=b(m={left:p.ownerMiddle-p.underWidth/2,top:o=="down"?p.ownerBottom+g:p.ownerTop-p.underHeight+j*2-g},p);m.left+=j;k={marginLeft:(p.ownerRight-p.ownerLeft)/2+p.ownerLeft-m.left-i/2,marginTop:(o=="down"?-g+p.borderWidth:-p.borderWidth)};break;case"down-right":case"down-left":case"up-right":case"up-left":n=o=="down-right"||o=="down-left"?"down":"up";l=b(m={left:(o=="down-right"||o=="up-right"?p.ownerLeft:p.ownerRight-p.underWidth+j),top:n=="down"?p.ownerBottom+g:p.ownerTop-p.underHeight+j*2-g},p);(o=="down-left"||o=="up-left")&&(m.left+=j);k={marginLeft:(p.ownerRight-p.ownerLeft)/2+p.ownerLeft-m.left-i/2,marginTop:(n=="down"?-g+p.borderWidth:-p.borderWidth)};break;case"left-down":case"right-down":n=o=="left-down"?"left":"right";l=b(m={left:(o=="left-down"?p.ownerLeft-p.underWidth-a:p.ownerRight+a),top:p.ownerTop-d+f/2},p);o=="left-down"&&(m.left+=j+a);k={marginLeft:o=="left-down"?-p.borderWidth:-a+p.borderWidth,marginTop:d-f/2};break;case"left":case"right":l=b(m={left:(o=="left"?p.ownerLeft-p.underWidth-a:p.ownerRight+a),top:p.ownerTop+(p.ownerBottom-p.ownerTop)/2-p.underHeight/2},p);o=="left"&&(m.left+=j+a);k={marginLeft:o=="left"?-p.borderWidth:-a+p.borderWidth,marginTop:p.underHeight/2-f/2};break;case"left-up":case"right-up":n=o=="left-up"?"left":"right";l=b(m={left:(o=="left-up"?p.ownerLeft-p.underWidth-a:p.ownerRight+a),top:p.ownerTop+f/2+d-p.underHeight+j},p);o=="left-up"&&(m.left+=j+a);k={marginLeft:n=="left"?-p.borderWidth:-a+p.borderWidth,marginTop:p.ownerTop-m.top+j-f/2}}return{direction:n||o,factor:l,offsets:m,tailOffsets:k}}function b(m,l){var k=0;l.windowTop>m.top&&(k+=l.windowTop-m.top);m.top+l.underHeight>l.windowBottom&&(k+=m.top+l.underHeight-l.windowBottom);l.windowLeft>m.left&&(k+=l.windowLeft-m.left);m.left+l.underWidth>l.windowRight&&(k+=m.left+l.underWidth-l.windowRight);return k}BEM.HTML.decl("b-popupa",{onBlock:function(k){var l=false;c.each(k.param("content"),function(m,n){return !(l=n.elem=="close")});k.mods({theme:"ffffff",direction:"down","has-close":l&&"yes"}).js(true).afterContent({elem:"shadow"})},onElem:{content:function(k){k.wrap({elem:"wrap-cell",tag:"td"}).wrap({tag:"tr"}).wrap({elem:"wrap",tag:"table"})},close:function(k){k.tag("i")},shadow:function(k){k.tag("i")},tail:function(k){k.tag("i").wrapContent({elem:"tail-i",tag:"i"})}}})})(jQuery);(function(a){window.Lego||(window.Lego={block:{}});Lego.block["i-social"]=function(d){function e(j){var i=this,g={};this.url=j.startUrl+"?";delete j.startUrl;this.popupName=j.popupName;this.yaWindow=null;this.wTimer=null;this.paramsDefault=j;function l(){var m;if(!i.yaWindow){return true}try{m=i.yaWindow.closed}catch(n){m=true}return m}function k(){if(l()){i.wTimer=clearInterval(i.wTimer);i.onFailure({status:"error"})}}function f(w){var z=i.popupName,q=500,A=280,s=Math.round(((window.opera?window.innerWidth:screen.availWidth)-q)/2),x=Math.round(((window.opera?window.innerHeight:screen.availHeight)-A)/2),n="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+s+", top="+x+", width="+q+", height="+A;var r={};for(var v in i.paramsDefault){r[v]=i.paramsDefault[v]}for(var v in w){r[v]=w[v]}if(r.display&&r.display!="popup"){r.retpath=r.retnopopup||window.location.href}else{var y="ddom="+(r.ddom||(location.hostname==document.domain?"":document.domain));if("retnopopup" in r){delete r.retnopopup}r.retpath+=(r.retpath.match("#")?"&":"#")+y}var m=i.url;var o=[];for(var u in r){o.push(encodeURIComponent(u)+"="+encodeURIComponent(r[u]))}m+=o.join("&");if(r.display&&r.display!="popup"){window.location.href=m;return}i.yaWindow=window.open(m,z,n);i.yaWindow.focus();if(i.yaWindow){i.wTimer=setInterval(k,500)}}function h(){this.handlers={onSuccess:null,onFailure:null};i.wTimer=clearInterval(i.wTimer);l()||i.yaWindow.close();i.yaWindow=false}this.start=function(n,m,o){h();i.handlers={onSuccess:n,onFailure:m};f(o)};this.onSuccess=function(n){h();var m=i.handlers.onSuccess;m&&m.call(i,n)};this.onFailure=function(n){h();var m=i.handlers.onFailure;m&&m.call(i,n)}}arguments.callee.Broker=e;var c=arguments.callee.defaultParams={startUrl:Lego.params["social-startUrl"]||Lego.params["social-host"]+"/broker/start",retpath:Lego.params["social-retpath"]||location.protocol+"//"+location.host+Lego.params["lego-path"]+"/blocks-desktop/i-social/closer/i-social__closer.html",retnopopup:Lego.params["social-retnopopup"]||false,consumer:Lego.params.id||"morda",popupName:"social_"+(Lego.params.id||"morda"),application:"",action_if_anonymous:"authorize",result_location:"fragment"};var b=arguments.callee.broker=new e(a.extend(c,d));return b}})(jQuery);BEM.DOM.decl("b-fade",{onSetMod:{js:function(){var a=this,b=this.params.target?this.findBlockOutside(this.params.target):this;b.domElem.bind("mouseenter",function(){a.setMod("hovered","yes");clearTimeout(a.countdown)}).bind("mouseleave",function(){a.hide()});this._bindEventsOnPopups()}},hide:function(){var a=this;a.countdown=setTimeout(function(){a._hide()},200)},_bindEventsOnPopups:function(){var e=this._getDropdownas(),c,a=e.length,b=this,d=function(){clearTimeout(b.countdown)},f=function(){b.hide()};for(c=0;c<a;c++){e[c].getPopup().domElem.unbind("mouseenter.b-fade",d).unbind("mouseleave.b-fade",f).bind("mouseenter.b-fade",d).bind("mouseleave.b-fade",f)}},_getDropdownas:function(){if(!this.dropdownas||!this.dropdownas.length){this.dropdownas=this.findBlocksInside("b-dropdowna")||[]}return this.dropdownas},_hide:function(){var d=this._getDropdownas(),c,b,a=d.length;this.setMod("hovered","");for(var b=0;b<a;b++){d[b].getPopup().hide()}}});BEM.DOM.decl({name:"b-domik",modName:"type",modVal:"simple"},{onSetMod:{js:function(){this.__base.apply(this,arguments);Lego.block["b-domik"].call(this.domElem,this.params);this.domElem.submit(function(){var a=1;$(".b-domik .b-form-input__input").each(function(){if(this.value.replace(/\s/g,"")!==""){a=0}});if(a){window.location=Lego.params.mailHost;return false}})}}});BEM.DOM.decl("b-topbar",{onSetMod:{js:function(){this.urls=BEM.DOM.extractParams(this.domElem[0])["b-topbar"];this._bindToggle();this.popup=this._createPopup();this._bindAutoclose();if(this.getMod("expanded")==="yes"){this.state=1;this._show()}},expanded:{"":function(){this._switchCounters(this.domElem,".big.",".small.");this._switchCounters($(".b-popupa_overlapping_yes"),".big.",".small.");this._switchCounters($(".b-topbar__area"),".big",".small")},yes:function(){this._switchCounters(this.domElem,".small.",".big.");this._switchCounters($(".b-popupa_overlapping_yes"),".small.",".big.");this._switchCounters($(".b-topbar__area"),".small",".big")}}},_switchCounters:function(a,c,b){a.find(".b-link").each(function(){var d=$(this).attr("onmousedown");if(d){$(this).attr("onmousedown",d.replace(c,b))}})},_createPopup:function(){var a=$(BEM.HTML.build({block:"b-popupa",mods:{theme:"gradient",autoclosable:"no",behavior:"snap",adjustable:"no",direction:"down-right"},mix:[{block:"b-topbar",elem:"popup"}],js:{zIndex:-31800},content:[{elem:"tail"},{elem:"content",mods:{padded:"no"}}]}));a=this.findBlockOn(a,"b-popupa");a.elem("content").append($(".b-topbar__domik"));a.on({"outside-click":function(c,b){c.preventDefault()}},this);return a},_bindAutoclose:function(){var a=this,b;$(window).bind("popupopen.lego",function(){clearTimeout(b);a.popup.hide()}).bind("popupclose.lego",function(){clearTimeout(b);b=setTimeout(function(){a.state&&a.popup.show(a._getSwitcher())},50)}).bind("popupredraw.lego keyboardOpened.lego keyboardClosed",function(){if(a.state){a.popup.pos()}})},_bindToggle:function(){var b=this.findBlocksInside($(".b-topbar__toggler"),"b-link");for(var a=0;a<b.length;a++){b[a].on("click",this._toggle,this)}},_show:function(){this.setMod("expanded","yes");this._save(1);this.popup.show(this._getSwitcher())},_hide:function(){this.delMod("expanded");this._save(0);this.popup.hide()},_getSwitcher:function(){if(!this.switcher){this.switcher=$(".b-topbar__switcher")}return this.switcher},_toggle:function(){if(this.popup.isShowed()){this._hide()}else{this._show()}},_save:function(b){if(this.state===b){return}this.state=b;var a=$(".b-topbar__frame");if(!a.length){a=$('<iframe class="b-topbar__frame" style="display:none"></iframe>');$(document.body).append(a)}a.attr("src",this.urls[(b?"open":"close")])}});BEM.DOM.decl({block:"b-popupa",modName:"overlapping",modVal:"yes"},{onSetMod:{js:function(){this.on({show:function(){this._dispatch("open")},hide:function(){this._dispatch("close")}})}},_dispatch:function(a){$(window).trigger("popup"+a+".lego")}});BEM.decl("i-user-services",{},{get:function(a){this._data?a(this._data):this._get(a)},getApiUrl:function(){return Lego.params["pass-host"]+"/services?callback=?"},_callbacks:[],_get:function(a){var b=this;b._callbacks.push(a);b._callbacks.length==1&&$.getJSON(b.getApiUrl(),{locale:Lego.params.locale,login:"yes","current-login":Lego.params.login,yu:$.cookie("yandexuid")},function(c){b._data=c;$.each(b._callbacks,function(){this(c)});b._callbacks.length=0})}});jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};BEM.DOM.decl("b-head-user",{onSetMod:{js:function(){Lego.block["b-head-user"].call(this.domElem,this.params)}},getDefaultParams:function(){return{maxlength:20,"maxlength-relative":3}}});(function(c,a){var b=a.block["b-head-user"]=function(h){var f=this;var d=parseInt(h.maxlength,10),g=parseInt(h["maxlength-relative"],10),e=h.href;if(a.params.login!=""||a.params.displayName){BEM.blocks["i-user-services"].get(function(i){b.buildHtml(i,f,d,g,e)})}};b.buildHtml=function(j,n,e,g,d){if(!j||!j.services){return}var f=j.displayName&&j.displayName.social,m=a.cleverSubstring(c("<div/>").text(b.getUserLogin(j)).html(),e,g),i=n.hasClass("i-ctr")&&a.params["show-counters"],h,l,d=d||"",k;h=f?'<b class="b-user b-user_social_yes"><span class="b-user__provider-ico" style="background:url(http://static.yandex.st/social/current/icons/16/'+f.provider+'.png)"></span>'+m+"</b>":'<b class="b-user"><b class="b-user__first-letter">'+m.substring(0,1)+"</b>"+m.substring(1)+"</b>";if(!d){if(f){d=a.params["social-host"]}else{if(/\.com(.tr)?$/.test(location.hostname)){d=a.params["passport-host"]}else{d=a.params["i-host"]||"https://i.yandex.ru"}}}l='<a class="b-link b-link_pseudo_yes '+(i?"i-ctr i-ctr_click_b-link ":"")+"i-bem\" onclick=\"return {'b-link':{}"+(i?",'i-ctr':{stat:'head-login'}":"")+'}"'+(!f&&n.hasClass("b-head-user_type_com")?"":' href="'+d+'"')+'><span class="b-link__inner">'+h+"</span></a>";k='<div class="b-dropdowna b-dropdowna i-bem" onclick="return {\'b-dropdowna\':{}}"><span class="b-dropdowna__switcher">'+l+'</span><div class="i-popup i-popup_autoclosable_yes i-popup i-bem" onclick="return {\'i-popup\':{}}"><div class="i-popup__content"><div class="i-popup__under b-popupa__under"></div><div class="b-popupa b-popupa_theme_ffffff b-popupa_direction_down i-bem b-dropdowna__popup" onclick="return {\'b-popupa\':{}}"><i class="b-popupa__shadow"></i><i class="b-popupa__tail"><i class="b-popupa__tail-i"></i></i><table cellpadding="0" cellspasing="0" class="b-popupa__wrap"><tr><td class="b-popupa__wrap-cell"><div class="b-popupa__content"><div class="b-menu b-menu_layout_vert b-dropdowna__menu"><ul class="b-menu__layout-vert">';f&&n.addClass("b-head-user_social_yes");c.each(j.services,function(o){k+='<li class="b-menu__layout-vert-cell'+(o==0?" b-menu__layout-vert-cell_position_first":"")+'"><div class="b-menu__item">';if(a.params.id==this.id&&a.params.index){k+="<strong>"+this.title+"</strong>"}else{k+='<a class="b-link b-head-user__link" href="'+this.url+'" onmousedown="Lego.ch(\''+a.params.id+".login.myservices."+this.id+"',this)\">"+this.title+"</a>"}k+="</div></li>"});if(j.services.length){k+='<li class="b-menu__layout-vert-separator"><i class="b-menu__separator"></i></li>'}k+=b.getUserItems(j,n);k+="</ul></div></div></td></tr></table></div></div></div></div>";n.find(".b-user").replaceWith(k);BEM.DOM.init(n)};b.getApiUrl=function(){return a.params["pass-host"]+"/services?callback=?"};b.getUserItems=function(f){var e=f.displayName&&f.displayName.social?[{name:a.message("b-head-userinfo.user:profile","Мои профили"),url:a.params["social-host"]}]:[{name:a.message("b-head-userinfo.user:passport","Паспорт"),url:a.params["passport-host"]},{name:a.message("b-head-userinfo.user:change-password","Сменить пароль"),url:a.params["passport-host"]+"/passport?mode=changepass&retpath="+encodeURIComponent(a.params.retpath)+"/"}];var d="";c.each(e,function(h,g){d+='<li class="b-menu__layout-vert-cell'+(h==e.length-1?" b-menu__layout-vert-cell_position_last":"")+'"><div class="b-menu__item"><a class="b-link b-head-user__link" href="'+g.url+'">'+g.name+"</a></div></li>"});return d};b.getUserLogin=function(d){return a.params.displayName&&a.params.displayName.social&&a.params.displayName.name||d.displayName&&d.displayName.name||a.params.login||d.login}})(jQuery,window.Lego);(function(){var a=[];function b(){Lego.c("lego-ctr/p=show("+c(e())+")");a=[]}function d(g){var f=g.split("-");return f.join("(")+new Array(f.length).join(")")}function e(){var f=[];for(var l=0,m=a.length;l<m;l++){var o=a[l].split("-"),k=f;for(var h=0,n=o.length-1;h<n;h++){var g=o[h];if(!k[g]){k[g]=[];k.push(g)}k=k[g]}k.push(o[o.length-1])}return f}function c(g){var f="",l=[],h=[];for(var k=0;k<g.length;k++){var j=g[k];g[j]?l.push(j+"("+c(g[j])+")"):h.push(j)}l.length&&h.push(l.join(""));return h.join(",")}BEM.DOM.decl("i-ctr",{onSetMod:{js:function(){this.setupShow();this.setupClick()}},setupShow:function(){a.push(this.params.stat);a.length==1&&this.afterCurrentEvent(function(){b()})},setupClick:function(){var f=this.getMod("click");f?this.findBlockOn(f).on("click",function(){this.sendClick()},this):this.bindTo("mousedown",this.sendClick)},sendClick:function(f){Lego.c("lego-ctr/p=click("+d(this.params.stat)+")",f&&f.target&&f.target.tagName=="A"&&f.target)}})})();BEM.DOM.decl({block:"b-head-user",modName:"overlapping",modVal:"yes"},{onSetMod:{js:function(){var a=Lego.block["b-head-user"],b=a.buildHtml;a.buildHtml=function(e,d){b.apply(this,arguments);var c=d.find(".b-popupa").addClass("b-popupa_overlapping_yes");BEM.DOM.init(c)};this.__base.apply(this,arguments)}}});(function(){var a=function(){this.serverDate=null;this.prevDay=null;this.loadDate=null;this.parent=null;this.placeHolders={date:null,day:null,month:null,wday:null,time:null,h:null,m:null};this.flicker={timePH:null,init:function(b){this.timePH=b},blink:function(){$(this.timePH).toggleClass("hT")}};this.timeTemplate=null};a.prototype._norm=function(b){return(b>9)?(""+b):("0"+b)};a.prototype.iterate=function(){var c=new Date(),b=new Date(this.serverDate.getTime()+(c.getTime()-this.loadDate.getTime())),d=b.getDay();if((b.getHours()===0)&&(b.getMinutes()===0)&&(b.getSeconds()===0)){if(this.placeHolders.date.length>0&&this.prevDay!=d){this.placeHolders.date.replaceWith(this.timeTemplate({title:"",day:b.getDate(),month:this.locale.month[b.getMonth()],wday:this.locale.week[d]}));this.placeHolders.date=$(".b-datetime__date",this.parent);this.prevDay=d}}this.placeHolders.h.html(this._norm(b.getHours()));this.placeHolders.m.html(this._norm(b.getMinutes()))};a.prototype.init=function(d,c){if(c){this.parent=c;this.serverDate=new Date(d);this.loadDate=new Date();this.timeTemplate=ya.template(this.infoDate);if(this.serverDate&&this.serverDate!="Invalid Date"&&!isNaN(this.serverDate)){this.placeHolders.date=$(".b-datetime__date",c);this.placeHolders.day=$(".b-datetime__day",c);this.placeHolders.month=$(".b-datetime__month",c);this.placeHolders.wday=$(".b-datetime__wday",c);this.placeHolders.time=$(".b-datetime__time",c);this.placeHolders.h=$("span:first",this.placeHolders.time);this.placeHolders.m=$("span:last",this.placeHolders.time);this.flicker.init(this.placeHolders.time);this.iterate();var b=this;setInterval(function(){b.iterate();b.flicker.blink()},1000)}else{timePH.style.display="none"}}};window.MordaClock=a})();(function(){var a=true;if($.browser.msie){$(document).bind("focusin",function(){a=true});$(document).bind("focusout",function(){a=false})}else{$(window).focus(function(){a=true});$(window).blur(function(){a=false})}$(document).ready(function(){if(!window.teaserId){return}var f=$("#"+window.teaserId);if(!f.length){return}f=f[0];var e=f.src,b=0,d=60*1000,c=setTimeout(function(){if(b<600){if(a){f.src=e+"?rnd="+ya.uid();b++;setTimeout(arguments.callee,d)}else{if($.browser.msie){$(document).one("focusin",arguments.callee)}else{$(window).one("focus",arguments.callee)}}}else{clearTimeout(c)}},d)})})();function tabs(b,i,l,g){var e="b-tabs",h="b-tabs__selected",j="b-tabs__notselected",f="b-tabs__names",d="b-tabs__items",a="i-hidden";if($(i).parent().is("."+h)){csh_ifmsid(l+".link",i);return true}var k=$(i).closest("."+e);$("ul."+f+" > li",k).removeClass(h).addClass(j);$(i).closest("li").removeClass(j).addClass(h);$("div."+d+" > div",k).addClass(a);$("#"+b).removeClass(a);csh_ifmsid(l+".select");i.blur();if(g){var c=$(".b-tabs__frame");if(!c.length){c=$('<iframe class="b-tabs__frame" style="display:none"></iframe>');$(document.body).append(c)}c.attr("src",g)}return false}var posRegionHint,initRegionHint;(function(c){var b,d=false;function a(f){var e;d=true;e=f.bem("b-popupa");e.show(b)}window.initRegionHint=function(f,h){var k=c(".b-region__hint"),g=c(h),e=c(f),j=k.find(".b-region__hint__header")[0],i=j?j.onclick():{};if(k.length>0){setTimeout(function(){var l;if(i.ispopup=="1"){b=e;if(b.length===0){return false}a(k)}else{b=g;if(b.length===0){return false}}l=function(m){a(k)};b.click(l);c(document).keydown(function(m){if(m.keyCode=="27"){k.bem("b-popupa").hide()}});k.bem("b-popupa").on("hide",function(){d=false});if(i.ispopup=="1"){k.bem("b-popupa").on("hide",function(){b.unbind("click",l)})}c(window).resize(function(){setTimeout(function(){if(d){k.bem("b-popupa")._isShowed=false;k.bem("b-popupa").show(b);d=true;try{document.body.focus()}catch(m){}}},142)});c(".b-region__ajax-action").click(function(){c(document.body).append('<iframe style="display:none" src="'+this.href+'"></iframe>');k.bem("b-popupa").hide();return false})},1000)}}})(jQuery);BEM.decl("i-statface",{onSetMod:{js:function(){this._data={};this._needSend=false;this.hasMod("send","manual")||$(window).unload(this.changeThis(this.send))}},set:function(a,c){this._needSend=true;var b=this._data;if(typeof a=="object"){$.each(a,function(d,e){b[d]=e})}else{b[a]=c}return this},reset:function(){var a=this;arguments[0]?$.each(arguments,function(c,b){delete a._data[b]}):this._data={};$.isEmptyObject(this._data)&&(this._needSend=false);return this},serialize:function(){var a=this;return $.map(a.params.keys,function(b){return a._data[b]}).join(".")+(a.params.customKeys?$.map(a.params.customKeys,function(b){var c=a._data[b];return"/"+b+"="+(c==undefined?"":c)}).join(""):"")},send:function(b){if(this._needSend){var c=this.params,a=["//",c.host,"/jclck/dtype=stred/pid=",c.pid,"/cid=",c.cid,"/path=",this.serialize(),"/*",location.href].join("");$.ajax({type:"GET",url:a,data:null,complete:b||$.noop,dataType:"script",timeout:500});this._needSend=false}return this},getDefaultParams:function(){return{host:"clck.yandex.ru"}}});BEM.DOM.decl("b-morda-search",{onSetMod:{js:function(){var a=this;this.input=this.findBlockInside("b-form-input");this.form=this.domElem.find("form");this._bindHeatDNS();this._bindEmptyInputClickCounter();this._initSearchSample();this._initSearchSampleBro();if(!this.input.hasMod("suggest","yes")){return}this._initNahStat();this.input.on("select",function(c,b){b.item.params.cgi&&b.item.params.cgi.forEach(function(d){(d instanceof Array&&d.length>1)&&BEM.DOM.append(a.domElem,BEM.HTML.build({block:"b-search",elem:"hidden",tag:"input",attrs:{type:"hidden",name:d[0],value:d[1]}}))});if(!b.item.hasMod("type","nav")){a.form.submit()}})}},_bindHeatDNS:function(){var b=this.input.domElem;function a(){b.parent().append('<img src="http://yandex.'+Lego.params["lang-zone"]+'/favicon.ico" style="position:absolute;top:0;left:0;width:0;height:0;" onLoad="this.parentNode.removeChild(this);" />')}b.one("keyup change",a)},_bindEmptyInputClickCounter:function(){var a=this.input;function b(c){if(!a.val()&&c&&(c.clientX||c.clientY)){Lego.cp(132,71618)}}a.bindTo("click",b)},_initSearchSample:function(){var c=this.findBlockInside("sample","b-link"),b=this.input,a=this;if(c){c.bindTo("click",function(f){b._preventRequest=true;b.val(a.params.text||$(f.target).text()).setMod("focused","yes");b._preventRequest=false;var d=a.domElem.find("input[name='nl']");if(a.params.nl&&!d.length){d=$('<input type="hidden" name="nl" value="1"/>').insertAfter(b.domElem)}return false})}},_initSearchSampleBro:function(){var f=this.findBlockInside("b-morda-search__sample-browser"),c=this.input,b=this,d=["yeni Yandex Browser","hızlı Yandex Browser","güvenli Yandex Browser","Yandex Browser indir","site çevirisi Yandex Browser'da"],a=["новый Яндекс Браузер","быстрый Яндекс Браузер","безопасный Яндекс Браузер","скачать Яндекс Браузер","переводчик сайтов в Яндекс Браузере"],e;if(f){f.bindTo("click",function(h){e=Math.floor(Math.random()*5);c._preventRequest=true;c.val(d[e]||"новый Яндекс Браузер").setMod("focused","yes");c._preventRequest=false;var g=b.domElem.find("input[name='nl']");if(b.params.nl&&!g.length){g=$('<input type="hidden" name="nl" value="1"/>').insertAfter(c.domElem)}return false})}},_initNahStat:function(){var d=this._resetSuggestStats(),c,f="",e=0,h,g,b=this;this.input.on({select:function(j,i){d.usageType=i.byKeyboard?"keyboard":"mouse";(i.item.hasMod("type","nah")||i.item.hasMod("type","href"))&&(d.nah="nah_used");if(i.item.hasMod("type","nav")){b._submitStats()}},"data-requested":function(){c=new Date()},"data-received":function(l,k){var j=k.metainfo;if(j){d.region=j.r;d.exprt=j.exprt;j.personal=j.pers_options||j.n}if(c){d.times.push(new Date()-c)}var i=(j.personal==1);i||$.each(k.items,function(){return !(i=this[0]=="nah")});i&&d.nah!="nah_used"&&(d.nah="nah_not_used")},"update-items":function(){d.usageType!="edit"&&(d.usageType="not_used")},change:function(j,i){d._submited=false;d.ratio.userActions++;if(i&&i.source=="autocomplete"){d.usageType="suggest";d.position=i.itemIndex+1}else{d.usageType=="suggest"&&(d.usageType="edit");i&&i.source||(d.user_input=encodeURIComponent(j.block.val()))}}}).bindTo("keyup click",function(i){switch(i.keyCode){case 38:case 40:case 27:break;default:h=this.val();g=b.input.getSelectionEnd();if(f!=h||e!=g){([37,39].indexOf(i.keyCode)!=-1||i.type=="click")&&this.trigger("change");d.endTime=new Date().getTime();d.startTime||(d.startTime=d.endTime);d.pos=g;f=h;e=g}break}});this.findBlockInside("button","b-form-button").domElem.bind("click",function(i){d.buttonByMouse="button_by_mouse"});var a=function(i){if(!b._suggestStats._submited){i.preventDefault()||b._submitStats(function(){b.form.unbind("submit",a).submit().bind("submit",a)});return false}else{b.form.unbind("submit",a)}};b.form.bind("submit",a)},_resetSuggestStats:function(){this._suggestStats=this._suggestStats||{};$.extend(this._suggestStats,{suggestType:this.input.params.suggestType||Lego.params.id,usageType:"not_shown",region:"",nah:"nah_not_shown",buttonByMouse:"",position:0,pos:0,startTime:0,endTime:0,session:(new Date().getTime()+Math.round(Math.random()*10000)),times:[],user_input:"",_submited:true,ratio:{userValue:0,finalValue:0,userActions:0}});return this._suggestStats},_submitStats:function(d){var b=this._suggestStats;b.text=encodeURIComponent(this.input.val());b.ratio.userValue=b.user_input.length;b.ratio.finalValue=b.text.length;var e=["session","region","times","pos","text","user_input","ratio"];b.exprt&&e.push("exprt");var c=BEM.create("i-statface",{pid:0,cid:2873,url:"http://ya.ru",keys:["suggestType","usageType","position","nah","buttonByMouse"],customKeys:e});var f={};$.each(b,function(g,i){if(i==undefined){return}if(typeof i=="object"){if(!$.isArray(i)){var h=[];$.each(i,function(j,k){h.push(k)});i=h}f[g]=i.join(".")}else{f[g]=i}});f.position="p"+f.position;var a=new Date().getTime();b.startTime&&(e.push("since_first_change"),f.since_first_change=(a-b.startTime));b.endTime&&(e.push("since_last_change"),f.since_last_change=(a-b.endTime));c.set(f).send(d);this._resetSuggestStats();return this}});(function(){function a(c){var b=$(".b-etrains__track",c),d=$(".b-etrains__direction",c);if(d.length>1){d.unbind("click").click(function(){b.toggleClass("i-hidden");var e=this.parentNode.onclick();if(e&&e.stat){csh_ifmsid(e.stat)}})}$(".b-etrains__track_time",c).unbind("mouseover").mouseover(function(){var e=this.onclick().id;$("#"+e).removeClass("i-hidden")}).unbind("mouseout").mouseout(function(){var e=this.onclick().id;$("#"+e).addClass("i-hidden")})}window.initEtrains=a})();(function(){var a;$(function(){a=$(".b-disaster-popup");a.find(".b-disaster-content").each(function(){var c=this.onclick()||{};c=c.content||"";$(this).replaceWith(c)})});function b(c){$(".b-pseudo-link",c).click(function(d){if(a){a.bem("b-popupa").show($(this))}return false})}window.initDisasterPopup=b})();BEM.DOM.decl({name:"i-flashcookie",modName:"type",modVal:"inline"},{onSetMod:{js:function(){Lego.block["i-flashcookie"].call(this.domElem,this.params)}}});(function(){var a=Lego.block["i-flashcookie"],b=function(c){function i(R,S){return'<param name="'+R+'" value="'+S+'" />'}function J(R,S){return" "+R+'="'+S+'"'}var I=window,g=document,n=navigator,H=n.userAgent,w=n.mimeTypes,P=9,z=H&&(/gecko/i).test(H),A=H&&(/MSIE/).test(H)&&(/Win/).test(H),k=z?"embed":"object",q="//kiks.%s/system/fc%d.html",M="//kiks.yandex.ru/system/%s%d.swf",N="http://kiks.yandex.ru/fu",p="//kiks.yandex.ru/fu",l="application/x-shockwave-flash",O="style",j="position:absolute;margin-left:-999em;",u=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',v="allowScriptAccess",K="always",x="height",D="wmode",o="window",d="width",s="bgcolor",Q="#FFFFFF",r="ya_fc",G=J(O,j)+J(d,1)+J(x,1)+J("id",r),B=false;var y,h,m,e;I.ya_fc_external=function(U,aa,S,T){y=U;h=aa;m=S;e=T||"fc";var W=(w&&w[l])?w[l].enabledPlugin:0,Z=B,Y=0,R=E()?M.replace("%d",h).replace("%s",e):N.replace("%s",L()),V;if(W){Y=W.description.split("Shockwave Flash ")[1];Z=(parseInt(Y,10)>=P)}else{if(A){Z=B;try{Z=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+P)}catch(X){}}}if(Z){if(z){V='<div style="'+j+'"><'+k+G+J("src",R)+J(D,o)+J(s,Q)+J(v,K)+J("type",l)+"/></div>"}else{V=(A?"<"+k+u+G+">"+i("movie",R):"<"+k+G+J("type",l)+J("data",R)+">")+ +i(D,o)+i(s,Q)+i(v,K)+"</"+k+">"}}else{V='<img src="'+p.replace("%s",L())+'" style="'+j+'" />'}return V};I.ya_fc_requestData=function(){var R=g.getElementById("ya_fc");try{R.setLocation(L(),E())}catch(S){}};I.ya_fc_setCookie=function(S){var R=new Date();R.setTime(R.getTime()+315360000000);g.cookie="fuid"+m+"="+S+";expires="+R.toGMTString()+";path=/;domain="+L()};I.ya_fc_getIFrame=function(U){var V=q.replace("%s",U).replace("%d",y),T=g.createElement("iframe"),R=g.getElementsByTagName("body")[0],S="40px;";T.src=V;T.style.cssText=d+S+x+S+"border:0;"+j;T.frameBorder=0;R&&R.insertBefore(T,R.firstChild)};function C(T,S,U){var R=T.match(S);return R&&R[U+1?U:1]||""}function E(){return C(g.cookie,new RegExp("fuid"+m+"=([^;]+)"))}function L(){var R=g.domain;return R&&C(R,/[^.]+\.[^.]{2,3}(\.tr)?$/,0)}var f=this,F=arguments.callee.load=function(T){var R,S;if(T.mode){R="00";S="kfc"}else{R="07"}location.protocol.indexOf("https")<0&&f.replaceWith(I.ya_fc_external("07_2",R,"01",S))};f.hasClass("i-flashcookie_autoload_no")||F(c)};Lego.block["i-flashcookie"]=function(d){var c=this.hasClass("i-flashcookie_type_inline")?b:a;c&&c.call(this,d)}})();BEM.DOM.decl("b-keyboard-loader",{onSetMod:{js:function(){Lego.block["b-keyboard-loader"].call(this.domElem,this.params)}}});
/*!jeanny-ignore*/
(function(b,a){a.block["b-keyboard-loader"]=function(g){var i=b(document.body),e=b(window),j=this,l;j.click(function(u){u.preventDefault();var s=b(this),q=(this.className.match(/b-keyboard-loader_lang_(\w+)/)||["",""])[1];switch(q){case"uk":q="ua";break;case"kk":q="kz";break;case"be":q="by";break}if(!i.find(".b-keyboard")[0]){var r=a.params["lego-static-host"],v=r+(r.charAt(r.length-1)==="/"?"":"/")+"blocks-desktop/",p=[v+"b-keyboard/_keyboard.js"],o=b.browser.msie&&((!document.documentMode)||(document.documentMode<9))?".ie":"",n=[v+"b-keyboard/_keyboard"+o+".css"];s.append('<i class="b-keyboard-loader__progress"/>');b.xLazyLoader({name:"b-keyboard",js:p,css:n,success:function(){a.block["b-keyboard-popup"]({lang:q});i.append("<div class=\"b-keyboard i-bem\" onclick=\"return {'b-keyboard':{lang:'"+q+"'}};\"></div>");BEM.DOM.init(b(".b-keyboard"));s.find(".b-keyboard-loader__progress").remove();e.trigger("keyboardOpened.lego",{afterLoad:true})}})}else{h()}});function h(n){var p=n?"addClass":"toggleClass",o=i.find(".b-keyboard-popup");if(o.length){i.find(".b-keyboard-popup__gap")[p]("i-hidden");if(i.find(".b-keyboard-popup")[p]("i-hidden").hasClass("i-hidden")){e.trigger("keyboardClosed");b(document).trigger("popupsClose.lego")}else{e.trigger("keyboardOpened.lego")}o.data("isHidden",false)}}e.bind("keyboardOpen.lego",function(){j.click()}).bind("keyboardClose.lego",h);g["for"]&&e.bind("keyboardOpened.lego",function(o,n){!(n&&n.afterLoad&&g.autoLoad)&&b(g["for"]).focus()});e.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(o,p){var n=j.find(".b-keyboard-loader__flag");if(n[0]){if(p==="tt"){p="ru"}n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,p+".png"))}});g.storeState=g.storeState!==false;if(g.storeState){e.bind("keyboardOpened.lego",function(){k("keyboard_state","open");var n=c("keyboard_lang");if(n){b(window).trigger("keyboardSetLang.lego",n)}}).bind("keyboardClosed.lego",function(){k("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(n,o){k("keyboard_lang",o)})}(g.autoLoad=g.autoLoad||(g.storeState&&c("keyboard_state")=="open"))&&j.click();var m;function f(){if(m){return}a.cp(0,70873,a.params.id+"."+(g.autoLoad?"auto":"manual"));m=true}e.bind("keyboardOpened.lego",function(){f()});function c(n){return d()[n]}function d(){var n={};b.each(window.name.split("&"),function(){if(this.toString()){var o=this.split("=");n[o[0]]=o[1]}});return n}function k(n,p){var o=d(),q=[];o[n]=p;b.each(o,function(r,s){q.push(r+"="+s)});window.name=q.join("&")}}})(jQuery,window.Lego);(function(b){b.xLazyLoader=function(e,d){if(typeof e=="object"){d=e;e="init"}new c()[e](d)};b.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:20000,success:function(){},error:function(){},complete:function(){},each:function(){}};var a=document.getElementsByTagName("head")[0];function c(){var m=this,o,i=[],k=[],j,d,f,e=[];this.init=function(p){if(!p){return}o=b.extend({},b.xLazyLoader.defaults,p);f={js:o.js,css:o.css,img:o.img};b.each(f,function(q,r){if(typeof r=="string"){r=r.split(",")}e=e.concat(r)});if(!e.length){h("error");return}if(o.timeout){j=setTimeout(function(){var q=i.concat(k);b.each(e,function(s,r){b.inArray(r,q)==-1&&k.push(r)});h("error")},o.timeout)}b.each(f,function(q,r){if(b.isArray(r)){b.each(r,function(u,s){l(q,s)})}else{if(typeof r=="string"){l(q,r)}}})};this.js=function(v,w,q){var u=b('script[src*="'+v+'"]');if(u.length){u.attr("pending")?u.bind("scriptload",w):w();return}var r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("charset","utf-8");r.setAttribute("src",v);r.setAttribute("pending",1);r.onerror=n;b(r).bind("scriptload",function(){b(this).removeAttr("pending");w();setTimeout(function(){b(r).unbind("scriptload")},10)});var p=false;r.onload=r.onreadystatechange=function(){if(!p&&(!this.readyState||/loaded|complete/.test(this.readyState))){p=true;r.onload=r.onreadystatechange=null;b(r).trigger("scriptload")}};a.appendChild(r)};this.css=function(p,s,q){if(b('link[href*="'+p+'"]').length){s();return}var r=document.createElement("link");r.setAttribute("type","text/css");r.setAttribute("rel","stylesheet");r.setAttribute("href",p);if(b.browser.msie){r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&s()}}else{if(b.browser.opera){r.onload=s}else{(function(){if(r&&r.sheet){s()}else{d=setTimeout(arguments.callee,20)}})()}}a.appendChild(r)};this.img=function(q,r){var p=new Image();p.onload=r;p.onerror=n;p.src=q};this.disable=function(p){b("#lazy-loaded-"+p,a).attr("disabled","disabled")};this.enable=function(p){b("#lazy-loaded-"+p,a).removeAttr("disabled")};this.destroy=function(p){b("#lazy-loaded-"+p,a).remove()};function l(q,p){m[q](p,function(r){r=="error"?k.push(p):i.push(p)&&o.each(p);g()},"lazy-loaded-"+(o.name?o.name:new Date().getTime()))}function h(p){o.complete(p,i,k);o[p](p=="error"?k:i);clearTimeout(j);clearTimeout(d)}function g(){if(i.length==e.length){h("success")}else{if(i.length+k.length==e.length){h("error")}}}function n(){k.push(this.src);g()}}})(jQuery);
/*!jeanny-ignore*/
BEM.DOM.decl("b-keyboard-loader",{onSetMod:{js:function(){Lego.block["b-keyboard-loader"].call(this.domElem,this.params)}}});
/*!jeanny-ignore*/
(function(b,a){a.block["b-keyboard-loader"]=function(g){var i=b(document.body),e=b(window),j=this,l;j.click(function(u){b("body").addClass("b-page_keyboard");u.preventDefault();var s=b(this),q=(this.className.match(/b-keyboard-loader_lang_(\w+)/)||["",""])[1];switch(q){case"uk":q="ua";break;case"kk":q="kz";break;case"be":q="by";break}if(!i.find(".b-keyboard")[0]){var r=a.params["lego-static-host"],v=r+(r.charAt(r.length-1)==="/"?"":"/")+"blocks-desktop/",p=[a.params["keyboard-url"]],o=b.browser.msie&&((!document.documentMode)||(document.documentMode<9))?".ie":"",n=[v+"b-keyboard/_keyboard"+o+".css"];s.append('<i class="b-keyboard-loader__progress"/>');b.xLazyLoader({name:"b-keyboard",js:p,css:n,success:function(){a.block["b-keyboard-popup"]({lang:q});i.append("<div class=\"b-keyboard i-bem\" onclick=\"return {'b-keyboard':{lang:'"+q+"'}};\"></div>");BEM.DOM.init(b(".b-keyboard"));s.find(".b-keyboard-loader__progress").remove();e.trigger("keyboardOpened.lego",{afterLoad:true})}})}else{h()}});function h(n){b("body").removeClass("b-page_keyboard");var p=n?"addClass":"toggleClass",o=i.find(".b-keyboard-popup");if(o.length){i.find(".b-keyboard-popup__gap")[p]("i-hidden");if(i.find(".b-keyboard-popup")[p]("i-hidden").hasClass("i-hidden")){e.trigger("keyboardClosed");b(document).trigger("popupsClose.lego")}else{e.trigger("keyboardOpened.lego")}o.data("isHidden",false)}}e.bind("keyboardOpen.lego",function(){j.click()}).bind("keyboardClose.lego",h);g["for"]&&e.bind("keyboardOpened.lego",function(o,n){!(n&&n.afterLoad&&g.autoLoad)&&b(g["for"]).focus()});e.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(o,p){var n=j.find(".b-keyboard-loader__flag");if(n[0]){if(p==="tt"){p="ru"}n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,p+".png"))}});g.storeState=g.storeState!==false;if(g.storeState){e.bind("keyboardOpened.lego",function(){b("body").addClass("b-page_keyboard");k("keyboard_state","open");var n=c("keyboard_lang");if(n){b(window).trigger("keyboardSetLang.lego",n)}}).bind("keyboardClosed.lego",function(){b("body").removeClass("b-page_keyboard");k("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(n,o){k("keyboard_lang",o)})}(g.autoLoad=g.autoLoad||(g.storeState&&c("keyboard_state")=="open"))&&j.click();var m;function f(){if(m){return}a.cp(0,70873,a.params.id+"."+(g.autoLoad?"auto":"manual"));m=true}e.bind("keyboardOpened.lego",function(){f()});function c(n){return d()[n]}function d(){var n={};b.each(window.name.split("&"),function(){if(this.toString()){var o=this.split("=");n[o[0]]=o[1]}});return n}function k(n,p){var o=d(),q=[];o[n]=p;b.each(o,function(r,s){q.push(r+"="+s)});window.name=q.join("&")}}})(jQuery,window.Lego);
/*!jeanny-ignore*/
BEM.DOM.decl("b-menu",{onElemSetMod:{trigger:{state:function(b,c,a){this.toggleMod(this.findElem(b.closest(this.buildSelector("layout-vert-cell")),"item-content").eq(0),"visibility","visible",a=="opened").trigger("trigger",{domElem:b,state:a})}},item:{state:{current:function(c){var d=this,a=d.__self.getName(),b=d.elem("item","state","current").filter(function(){return $(this).closest(d.buildSelector()).bem(a)===d});d.findElem(c.parents(d.buildSelector("item-content")).prev(d.buildSelector("item")),"trigger").each(function(){d.setMod($(this),"state","opened")});d.delMod(b,"state").trigger("current",{prev:b,current:c})}}}},onTriggerClick:function(a){a.preventDefault();this.toggleMod(a.data.domElem,"state","opened")},onItemSelectorClick:function(b){var a=this._getItemByEvent(b);this.hasMod(a,"state","disabled")||this.setMod(a,"state","current")},_getItemByEvent:function(a){return a.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("trigger","leftclick",function(a){this.onTriggerClick(a)}).liveBindTo("item-selector","leftclick",function(a){this.onItemSelectorClick(a)})}});(function(c){BEM.DOM.decl({block:"b-popupa",modName:"behavior",modVal:"snap"},{_calcParams:function(){var o=this._calcDimensions(),l=this.params.directions,n=a(o),q=c.inArray(this._direction,l);if(this.hasMod("adjustable","no")){return e(this._direction,o,n[this._direction]||0)}q>-1||(q=0);var k=q,m,p;do{m=l[q];p=n[m];if(p){return e(m,o,p)}++q==l.length&&(q=0)}while(q!==k);return e(l[0],o,0)}});var d=19,b=7,i=15,f=15,g=7,j=7,h=["down-right","down","up","right","left"];function a(r){var u=c(window).width(),o=c(window).height(),q=r.ownerTop-r.windowTop-r.underHeight,v=r.windowBottom-r.ownerBottom-r.underHeight,m=r.ownerLeft-r.windowLeft-r.underWidth,w=r.windowRight-r.ownerRight-r.underWidth,y=r.ownerRight-r.windowLeft-r.underWidth,l=r.windowRight-r.ownerLeft-r.underWidth,x,n,p=r.underWidth/2,k=r.underHeight/2,s={};q=q<0?-q:0;v=v<0?-v:0;m=m<0?-m:0;w=w<0?-w:0;y=y<0?-y:0;l=l<0?-l:0;x=(p>m?0:m-p)-(p>w?0:w-p);n=(k>q?0:q-k)-(k>v?0:v-k);if(Math.abs(x)<p){x-=p;if(!q){s.up=x}if(!v){s.down=x;if(!y){s["down-left"]=x}if(!l){s["down-right"]=x}}}if(Math.abs(n)<k){n-=k;if(!m){s.left=n}if(!w){s.right=n}}return s}function e(p,q,r){var m,n={},l={},o,k={};q.ownerVmiddle=(q.ownerTop+q.ownerBottom)/2;switch(p){case"down":case"up":case"down-right":case"down-left":case"up-left":case"up-right":if(q.windowRight>q.ownerRight&&q.windowRight-q.ownerRight+i<q.underWidth-2*j){k.left=Math.min(q.windowRight-q.underWidth+j-3,q.ownerMiddle-j)}else{if(q.windowLeft<q.ownerLeft&&q.ownerLeft-q.windowLeft+j<q.underWidth-2*j){k.left=Math.max(q.windowLeft-j+3,q.ownerMiddle+j-q.underWidth)}}break;case"left":case"right":if(q.ownerMiddle>q.windowTop&&q.ownerVmiddle-q.windowTop+f<q.underHeight-j){k.top=q.windowTop}else{if(q.windowBottom>q.ownerVmiddle&&q.windowBottom-q.ownerVmiddle-f<q.underHeight-j){k.top=q.windowbottom-q.unserWidth}}}switch(p){case"down":case"up":n={left:r+q.ownerMiddle-i,top:p=="down"?q.ownerBottom+g:q.ownerTop-q.underHeight-g};o=p;break;case"left":case"right":n={top:q.ownerVmiddle+r-f,left:p=="left"?q.ownerLeft-q.underWidth-b:q.ownerRight+b};break;case"down-right":case"down-left":case"up-right":case"up-left":o=p=="down-right"||p=="down-left"?"down":"up";n={left:(p=="down-right"||p=="up-right"?q.ownerLeft:q.ownerRight-q.underWidth+j),top:o=="down"?q.ownerBottom+g:q.ownerTop-q.underHeight+j*2-g};break}n.top=k.top!==undefined?k.top:n.top;n.left=k.left!==undefined?k.left:n.left;switch(p){case"left":case"right":l={marginLeft:p=="left"?-q.borderWidth:-b+q.borderWidth,marginTop:q.ownerVmiddle-n.top-f/2};if(l.marginTop<0){l.marginTop=0}else{if(l.marginTop>q.underHeight){l.marginTop=q.underHeight}}break;default:l={marginLeft:q.ownerMiddle-n.left-i/2,marginTop:(o=="down"?-g+q.borderWidth:-q.borderWidth)};if(l.marginLeft<0){l.marginLeft=0}else{if(l.marginLeft>q.underWidth){l.marginLeft=q.underWidth}}}return{direction:p,factor:m,offsets:n,tailOffsets:l}}})(jQuery);(function(){var a=10;BEM.DOM.decl({name:"b-popupa",modName:"direction",modVal:"fixed"},{pos:function(){if(!this._isShowed){return this}var c=this._getUnder(),e=-c.domElem.outerWidth()/2,d=-c.domElem.outerHeight()/2,b=this.__self.getWindowSize();c.show({left:"50%",top:"50%",marginLeft:b.width/2-a+e<0?-b.width/2+a:e,marginTop:b.height/2-a+d<0?-b.height/2+a:d});return this}})})();$(document).ready(function(){var e=$("i.b-hand"),b=10,a=1000,i=1000,d=10000,f=600,c=0,h=e.css("opacity")==1;$("a.b-link_sethome").click(function(l){try{e.stop().hide();var k=this;delete window.setHomeHandCloseUrl;if(!!window.setHomeHandCloseUrl){l.preventDefault();var j=new Image();j.src=window.setHomeHandCloseUrl;j.onload=function(){if($(k).hasClass("b-sethome_redirectable_yes")){window.location=k.href}}}}catch(l){}return true});if(!h){e.show()}var g=function(){c+=1;if(c<7){var j=(c%2==0)?("-="+b):("+="+b);e.animate({top:j},f,g)}else{setTimeout(function(){if(h){e.hide()}else{e.animate({opacity:"0"},i,function(){e.hide()})}},d)}};setTimeout(function(){if(window.setHomeHandUrl&&e){var j=new Image();j.src=window.setHomeHandUrl}if(h){e.show();g()}else{e.animate({opacity:"1"},i,g)}},a)});BEM.DOM.decl("b-form-checkbox",{onSetMod:{js:function(){var d=this,a=d.elem("checkbox");try{var c=d.__self.doc[0].activeElement}catch(b){}d.setMod("checked",a.attr("checked")?"yes":"");c===a[0]&&d.setMod("focused","yes")},focused:{yes:function(){if(this.isDisabled()){return false}this.elem("checkbox").focus()},"":function(){this.elem("checkbox").blur()}},checked:function(b,a){this.elem("checkbox").attr("checked",a=="yes");this.elem("tick").attr("alt",((a=="yes")?" v":""));this.afterCurrentEvent(function(){this.trigger("change")})},disabled:function(b,a){this.elem("checkbox").attr("disabled",a=="yes")}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return this.hasMod("checked","yes")},toggle:function(){this.toggleMod("checked","yes","")},val:function(b){var a=this.elem("checkbox");return b==undefined?a.val():a.val(b)},_onClick:function(a){if(a.button){return}this.isDisabled()||this.setMod("focused","yes")},_onChange:function(a){a.target.checked?this.setMod("checked","yes"):this.delMod("checked")}},{live:function(){this.liveBindTo("checkbox","click",function(a){this._onClick(a)}).liveBindTo("checkbox","change",function(a){this._onChange(a)}).liveBindTo("checkbox","focusin focusout",function(a){this.setMod("focused",a.type=="focusin"?"yes":"")});return false}});BEM.HTML.decl("b-form-checkbox",{onBlock:function(a){a.js(true).mix(!a.mod("size")?[{block:"b-form-checkbox",mods:{size:13}}]:"").tag("span").content({elem:"inner",content:[{elem:"checkbox",attrs:$.extend(a.param("checkboxAttrs")||{},{id:a.param("id"),checked:a.mod("checked")?"checked":undefined,disabled:a.mod("disabled")?"disabled":undefined})},{elem:"bg"}]})},onElem:{checkbox:function(a){a.tag("input").attrs($.extend(a.attrs(),{type:"checkbox"}))},bg:function(a){a.tag("i").content({elem:"tick"})},tick:function(a){a.tag("i")}}});(function(c,a){BEM.DOM.decl("b-head-tabs",{onSetMod:{js:function(){a.block["b-head-tabs"].call(this.domElem[0],this.params)}}});var b=a.block["b-head-tabs"]=function(i){var k=c(this),j=c(".b-head-search"),g=j.find(".b-search .b-form-input input:first"),o=a.params.id,e=d(document.location.search),h=(function(){var p={};c.each(["news","yaca","market","blogs","maps","adresa","video","fotki","slovari","auto","images","music","www","aile","yandex","haber","gorsel"],function(){p[this]=["noreask","family"]});return p})(),m=k.find(":not(strong)>a.b-head-tabs__link").map(function(){var p=this.host.split(".")[0];return{node:this,toServiceId:p,searchUrl:BEM.DOM.extractParams(this).url,noSearchUrl:this.href,searchParams:f(p)}}).filter(function(){return typeof this.searchUrl!=="undefined"}),l;(function(){var p=c.trim(g.val())||i["default"];if(l!=p){l=p;c.each(m,function(){p&&(this.searchParams[b.getSearchParamName(this.toServiceId)]=p);if(p){this.node.href=this.searchUrl+(this.searchUrl.indexOf("?")!==-1?"&":"?")+c.param(this.searchParams,true)}else{this.node.href=this.noSearchUrl}})}setTimeout(arguments.callee,200)})();function f(q){var s=[].concat(h[q]),p=q+o;(p=="imageswww"||p=="wwwimages")&&s.push("site");var r={};c.each(s,function(){e[this]&&(r[this]=e[this])});return r}function d(p){var q={};if(!p){return q}c.each(p.substr(1).split("&"),function(v){var w=this.split("="),r=w[0],u=w[1];if(r){if(q.hasOwnProperty(r)){var s=q[r];c.isArray(s)?s.push(u):q[r]=[s,u]}else{q[r]=u}}});return c.decodeURIComponent!==undefined?n(q):q}function n(q){var p=["site"];c.each(q,function(r,s){if(c.inArray(r,p)>-1){q[r]=c.isArray(s)?s.map(function(u){return c.decodeURIComponent(u)}):c.decodeURIComponent(s)}});return q}};c.extend(b,{getHostToUrlMap:function(){var d={www:"yandsearch",market:"search.xml",maps:"",music:"#!/search",video:"search"};d.harita=d.maps;d.blogs=d.adresa=d.fotki=d.slovari=d.auto=d.market;d.news=d.yaca=d.images=d.gorsel=d.haber=d.yandex=d.www;return d},getHostMap:function(){return{}},getSearchParamName:function(d){return"text"}})})(jQuery,window.Lego);var quiteLogger=function(b,c){c=c||500;if(b.length){var a=new Image();a.src=b}if(c){window.setTimeout(function(){a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAICTAEAOw=="},c)}};$(function(){if(!window.themesTabs){return}$(".b-themes-list__tab-item").live("click",function(r){var p=$(this);var q=p.data("tabid");if(p.data("stat")&&!!p.data("stat")){cp(p.data("stat"))}l(q)});$(".b-themes-list__theme-link").click(function(p){p.preventDefault();m($(this).attr("href"),$(this).data("skinid"),$(this).data("stat"))});$(".b-themes-list__arrow-prev").click(function(){g(5,1)});$(".b-themes-list__arrow-next").click(function(){g(-5,1)});var f=function(){var u=location.hash.substr(1),s={},q;if(u){u=u.split("&");for(var r=0,p=u.length;r<p;r++){q=u[r].split("=");if(q.length==2){s[q[0]]=q[1]}}}return s};var h=function(s){var q=$(".b-themes-list__theme").not(".b-themes-list__theme-hidden");var p=q.index(s);var r=q.index($(".b-themes-list__theme_selected"));if(r!=-1&&r<p){return -68*p-28}else{return -68*p}};var k=function(p,u){var r=f();if(p==="all"||!p){delete r.tab}else{r.tab=p}if(u){r.pos=u}else{delete r.pos}var q="";for(var s in r){q+=s+"="+r[s]+"&"}if(q.length){q=q.substr(0,q.length-1)}location.hash=q;if($.browser.msie){document.title=document.title.split("#")[0]}};var o=function(q){var r=$(".b-themes-list__theme"),p=r.eq(0).parent();if(themesTabs[q]){r.addClass("b-themes-list__theme-hidden");$.each(themesTabs[q],function(s,v){var u=".b-themes-list__theme_"+v;p.append($(u));$(".b-themes-list__theme_"+v).removeClass("b-themes-list__theme-hidden")})}else{p.append(r.removeClass("b-themes-list__theme-hidden"))}};var l=function(r,q,u){var s;o(r);if(q){s=-q}else{s=0}s=c(s);var p=$(".b-themes-list__list table");if(u){p.css("left",s).show();setTimeout(function(){p.show()},0)}else{p.animate({left:s});setTimeout(function(){p.show()},0)}$(".b-themes-list__tab_selected").removeClass("b-themes-list__tab_selected");$(".b-themes-list__tab_"+r).addClass("b-themes-list__tab_selected");u||k(r)};var b=function(q,u,p){var s=$(".b-themes-list__theme"),r=s.eq(0).parent();s.addClass("b-themes-list__theme-hidden");$.each(themesTabs[q],function(v,x){var w=".b-themes-list__theme_"+x;r.append($(w));$(".b-themes-list__theme_"+x).removeClass("b-themes-list__theme-hidden")});l(q,u||0,p)};var g=function(s,q){var p=$(".b-themes-list__list table");var r=c(parseInt(p.css("left"))+68*s);if(q){p.stop().animate({left:r})}else{p.css({left:r})}};var c=function(q){var r=d(),s=r.windowWidth-r.themesTableWidth-36;if(q>0||s>0){return 0}if(q<s){return s}return q};var d=function(){var p=$(window).width();var q=parseFloat($(".b-themes-list__list table").width());q=(q==p-36)?$(".b-themes-list__theme").length*68+28:q;return{themesTableWidth:q,windowWidth:p}};var n=function(p){if(p<-1){p=-1}if(p>1){p=1}g(parseInt(p),0)};var i=function(){return $(".b-themes-list__tab_selected > .b-themes-list__tab-item").data("tabid")||"all"};var m=function(q,p,r){q+="#tab="+i()+"&pos="+Math.abs(parseInt($(".b-themes-list__list table").css("left")));if(r&&msid){location.href=location.protocol+"//clck.yandex.ru/redir/dtype=clck/lid="+r+"/sid="+msid+"/rnd="+((new Date()).getTime()+Math.round(Math.random()*100))+"/*data="+encodeURIComponent("url="+encodeURIComponent((q.match(/^http/)?q:location.protocol+"//"+location.host+(q.match("^/")?q:"/"+q))))}else{location.href=q}return false};var j=function(q){var r=0,p;if(q){p=q.target}else{q=window.event;p=q.srcElement}if($(p).parents(".b-themes-list").length){if(q.wheelDelta){r=q.wheelDelta/120}else{if(q.detail){r=-q.detail/3}}if(r&&typeof n=="function"){n(r);q.preventDefault&&q.preventDefault();q.returnValue=false}}else{q.returnValue=true}};if(window.addEventListener){window.addEventListener("DOMMouseScroll",j,false)}window.onmousewheel=document.onmousewheel=j;var a=f();if(!(a.tab&&window.themesTabs&&themesTabs[a.tab])){a.tab="all"}if(a.pos){a.pos=parseInt(a.pos)}else{var e=h($(".b-themes-list__theme_selected").prev("td"));e=c(e);a.pos=-e}l(a.tab,a.pos,true);if($.browser.msie){document.title=document.title.split("#")[0]}});(function(){function a(){return $(".b-mobile-balloon")[0].onclick()}$(".b-mobile-balloon__button_yes").click(function(){var c=a().url,b=a().statYes;if(window.msid){cp(b);setTimeout(function(){document.location.href=c},500)}else{document.location.href=c}});$(".b-mobile-balloon__button_no").click(function(){var b=a().closeurl,c=a().statNo;new Image().src=b;if(window.msid){cp(c)}$(".b-mobile-balloon").hide()})})();(function(){function a(){$(".b-wdgt-promo").toggleClass("i-hidden");wg.hidePromo=wg.hidePromo=="1"?"0":"1";wg.changed=true}$(function(){$(".b-wdgt-promo .b-widget__control__close, .b-wdgt-promo .b-link_pseudo_yes").click(a);$(".b-wdgt-promo__add").click(function(){var b=this.onclick();if("wg" in window){wg.addWidget(b.id,1,b.type);return false}else{return true}})})})();(function(){if(window.wg){return}var f,g,b,e;$(function(){f=$(".b-wdgt-control");if(!f.length){return}f.css({right:0,top:0});$("#b-wdgt-send_button").addClass("i-hidden");$("#b-wdgt-del_button").addClass("i-hidden");$(".b-wdgt-control").css({width:18,height:18});$(".b-wdgt-control").mouseenter(function(){e=1;clearTimeout(b)});$(".b-wdgt-control").mouseleave(function(){b=setTimeout(function(){e=0;c()},1000)})});function a(h){h.append(f);f.fadeIn(500);e=0;clearTimeout(b);b=setTimeout(function(){c()},4000)}function c(h){if(!e){f.fadeOut(500)}}function d(h){h.mouseenter(function(){if(e){return}clearTimeout(b);g=setTimeout(function(){a(h)},1000)}).mouseleave(function(){clearTimeout(g);clearTimeout(b);b=setTimeout(function(){e=0;c()},1000)})}window.wdgtControl=d})();